(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1bfe85e"],{"0430":function(t,e){function a(t,e){if(t=t.replace(/\s+/g,""),e=e.replace(/\s+/g,""),!t.length&&!e.length)return 1;if(!t.length||!e.length)return 0;if(t===e)return 1;if(1===t.length&&1===e.length)return 0;if(t.length<2||e.length<2)return 0;let a=new Map;for(let r=0;r<t.length-1;r++){const e=t.substr(r,2),n=a.has(e)?a.get(e)+1:1;a.set(e,n)}let n=0;for(let r=0;r<e.length-1;r++){const t=e.substr(r,2),i=a.has(t)?a.get(t):0;i>0&&(a.set(t,i-1),n++)}return 2*n/(t.length+e.length-2)}function n(t,e){if(!r(t,e))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const n=[];let i=0;for(let r=0;r<e.length;r++){const o=e[r],s=a(t,o);n.push({target:o,rating:s}),s>n[i].rating&&(i=r)}const o=n[i];return{ratings:n,bestMatch:o,bestMatchIndex:i}}function r(t,e){return"string"===typeof t&&(!!Array.isArray(e)&&(!!e.length&&!e.find(t=>"string"!==typeof t)))}t.exports={compareTwoStrings:a,findBestMatch:n}},"11e9":function(t,e,a){var n=a("52a7"),r=a("4630"),i=a("6821"),o=a("6a99"),s=a("69a8"),l=a("c69a"),c=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?c:function(t,e){if(t=i(t),e=o(e,!0),l)try{return c(t,e)}catch(a){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},1657:function(t,e,a){},"20df":function(t,e,a){"use strict";(function(t){var n=a("795b"),r=a.n(n),i=(a("ac6a"),a("f499")),o=a.n(i),s=(a("c5f6"),a("d4f3"),0),l="in";function c(e,a,n){return t.chain(e).map(function(t,e){var r=[];if(t.fields&&t.fields.length){(t.asObject||"embedded"==t.directive)&&(a.push(t.key),n.push(t.title),t.trail=a.slice(),t.titles=n.slice(),a.pop(),n.pop(),r.push(t),1!=t.maximum?(a.push(t.key+"["+s+"]"),n.push(t.title)):(a.push(t.key),n.push(t.title)));var i=c(t.fields,a,n);(t.asObject||"embedded"==t.directive)&&(a.pop(),n.pop()),r.push(i)}else a.push(t.key),n.push(t.title),t.trail=a.slice(),t.titles=n.slice(),a.pop(),n.pop(),r.push(t);return r}).flattenDeep().value()}e["a"]={props:{type:{type:String},fields:{type:Array,default:function(){return[]}},mini:{type:Boolean},rows:{type:Array},value:{type:Object,required:!0,default:function(){return{guid:this.$fluro.utils.guid(),operator:"and",filters:[]}}},debounce:{type:Number,default:0},limit:{type:Boolean}},beforeCreate:function(){this.$options.components.FilterConditionRow=a("9b50").default,this.$options.components.FilterConditionGroup=a("f811").default},created:function(){var e=this;e.debounced=t.debounce(function(){e.$emit("input",JSON.parse(o()(e.model)))},e.debounce)},methods:{operatingWord:function(t,e){if(e)return t.operator;switch(t.operator){case"nor":return"Not";default:return"Where"}},addRule:function(t){t.filters.push({operator:"and",guid:this.$fluro.utils.guid(),filters:[{comparator:l}]})},addCondition:function(t){t.filters.push({guid:this.$fluro.utils.guid(),comparator:l})},duplicateEntry:function(t,e){var a=JSON.parse(o()(t.filters[e]));a.guid=this.$fluro.utils.guid(),t.filters.splice(e,0,a)},removeEntry:function(t,e){this.$delete(t.filters,e);var a=t.filters.length;a<2&&(console.log("Set to AND"),this.$set(t,"operator","and"))},retrieveKeys:function(){var e=this;if(!e.rows||!e.rows.length)return e.availableKeys=[],void(this.loadingKeys=!1);this.loadingKeys=!0;var a=e.rowChangeString,n=this.$fluro.cache.get("filter-distinct-keys"),r=n[a];if(!r){var i=t.map(e.rows,"_id"),o={};r=n[a]=e.$fluro.content.keys(i,o)}r.then(function(t){console.log("Keys!!",t),e.availableKeys=t,e.loadingKeys=!1},function(t){console.log("Error",t),e.availableKeys=[],e.loadingKeys=!1,n[a]=null})}},data:function(){var e=this,a=JSON.parse(o()(this.value));return t.each(a.filters,function(t){t.guid=e.$fluro.utils.guid()}),{model:a,debounced:null,operatorOptions:[{text:"All",value:"and"},{text:"Any",value:"or"},{text:"All",value:"and"}],loadingKeys:!1}},asyncComputed:{definition:{get:function(){var t=this;return t.type&&t.type.length?new r.a(function(e,a){return t.$fluro.types.get(t.type).then(function(t){return e(t)}).catch(a)}):r.a.resolve(null)}}},computed:{availableKeys:function(){var e=this,a=e.fields||[];return e.definition&&(a=a.concat(t.get(e,"definition.type.fields")||[],t.get(e,"definition.definition.fields")||[]),e.definition.details&&e.definition.details.length&&t.each(e.definition.details,function(e){var n=c(e.fields,[],[]),r=t.chain(n).map(function(t){if("group"!=t.type)return{title:e.title+" - "+t.titles.join(" > "),key:"details.".concat(e.definitionName,".items[0].data.").concat(t.trail.join(".")),minimum:t.minimum,maximum:t.maximum,detail:e.definitionName,type:t.type}}).compact().value();a=a.concat(r)})),t.orderBy(a,"title")}},watch:{model:{handler:function(){this.debounced()},deep:!0}}}}).call(this,a("2ef0"))},"22de":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fluro-table-wrapper"},[t.showLoading?a("fluro-page-preloader",{attrs:{contain:""}}):t._e(),t.rows.length&&!t.sorted.length?a("v-container",{staticClass:"flex-center"},[t._t("emptytext",[t._v("\n            No results were found matching your criteria\n        ")])],2):[a("div",{ref:"scrollableArea",staticClass:"fluro-table-scroll",class:{loading:t.showLoading}},[a("span",{ref:"top"}),a("table",{staticClass:"fluro-table-main no-select"},[a("thead",[a("tr",[t.selectionEnabled?a("th",{staticClass:"shrink checkbox-cell"},[a("v-menu",{attrs:{"offset-y":""},nativeOn:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("div",t._g({},n),[a("table-header-checkbox",{tag:"div",attrs:{all:t.allSelected,some:t.someSelected}})],1)]}}],null,!1,3536504858)},[a("v-card",{attrs:{tile:""}},[a("v-list",{attrs:{dense:""}},[t.allSelected?t._e():a("v-list-tile",{on:{click:function(e){return t.selectPage()}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                                                    Select this page\n                                                ")])],1)],1),t.someSelected?a("v-list-tile",{on:{click:function(e){return t.deselectPage()}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                                                    Deselect this page\n                                                ")])],1)],1):t._e(),t.filteredTotal?a("v-list-tile",{on:{click:function(e){return t.selectAll()}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                                                    Select all "+t._s(t.filteredTotal)+" items\n                                                ")])],1)],1):t._e(),t.$selection.selection.length?a("v-list-tile",{on:{click:function(e){return t.deselectAll()}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                                                    Deselect all "+t._s(t.filteredTotal)+" items\n                                                ")])],1)],1):t._e()],1)],1)],1)],1):t._e(),t._l(t.columns,function(e){return a("th",{class:{shrink:e.shrink,sortable:t.isSortable(e),sorting:t.sort.sortKey==e.key,"text-xs-center":"center"==e.align,"text-xs-right":"right"==e.align},on:{click:function(a){return t.toggleSort(e)}}},[t.sort.sortKey==e.key?a("div",{staticClass:"sort-icon"},["desc"==t.sort.sortDirection?a("fluro-icon",{attrs:{library:"fas",icon:"caret-down"}}):t._e(),"asc"==t.sort.sortDirection?a("fluro-icon",{attrs:{library:"fas",icon:"caret-up"}}):t._e()],1):t._e(),t._v("\n                            "+t._s(e.title)+"\n                        ")])}),a("th",{staticClass:"shrink"},[a("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleConfiguration()}}},[a("fluro-icon",{attrs:{icon:"cog"}})],1)],1)],2)]),a("tbody",[t.grouped?[t._l(t.grouped,function(e){return[e.title?a("tr",{staticClass:"breaker"},[a("th"),a("td",{attrs:{colspan:1+t.columns.length}},[t._v(t._s(e.title))])]):t._e(),t._l(e.items,function(e,n){return a("tr",{key:e._id,class:t.classes(e)},[e._populating?[a("table-row-checkbox",{tag:"th"}),a("td",{attrs:{colspan:t.columns.length},nativeOn:{click:function(a){return t.clicked(e,t.column,n)}}},[t._v("-")]),a("th",{staticClass:"shrink"})]:[a("table-row-checkbox",{tag:"th",attrs:{checked:t.$selection.isSelected(e),value:e},nativeOn:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.checkboxClick(e,a,e._pageIndex)}}}),t._l(t.columns,function(r){return a("table-cell",{class:{sorting:t.sort.sortKey==r.key},attrs:{row:e,column:r},nativeOn:{click:function(a){return t.clicked(e,r,n)}}})}),a("th",{staticClass:"shrink"},[a("div",{staticClass:"action-buttons"},[a("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$actions.open([e])}}},[a("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)])]],2)})]})]:t._l(t.page,function(e,n){return a("tr",{key:e._id,class:t.classes(e)},[e._populating?[t.selectionEnabled?a("table-row-checkbox",{tag:"th"}):t._e(),a("td",{attrs:{colspan:t.columns.length},nativeOn:{click:function(a){return t.clicked(e,t.column,n)}}},[t._v("-")]),a("th",{staticClass:"shrink"})]:[t.selectionEnabled?a("table-row-checkbox",{tag:"th",attrs:{checked:t.$selection.isSelected(e),value:e},nativeOn:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.checkboxClick(e,a,n)}}}):t._e(),t._l(t.columns,function(r){return a("table-cell",{class:{sorting:t.sort.sortKey==r.key},attrs:{row:e,column:r},nativeOn:{click:function(a){return t.clicked(e,r,n)}}})}),a("th",{staticClass:"shrink"},[a("div",{staticClass:"action-buttons"},[a("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.$actions.open([e])}}},[a("fluro-icon",{attrs:{icon:"ellipsis-h"}})],1)],1)])]],2)})],2)])]),a("div",{staticClass:"footer-stats"},[a("v-layout",{attrs:{row:"",wrap:""}},[t.totalPages?[a("v-flex",{staticClass:"text-muted",attrs:{xs6:"","align-center":"","d-flex":""}},[t._v("\n                        "+t._s(t._f("numberWithCommas")(t.startOffset+1))+" to "+t._s(t._f("numberWithCommas")(t.endOffset))+" of "+t._s(t._f("numberWithCommas")(t.filteredTotal))+" matches\n                        ")]),a("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"","align-center":"","d-flex":""}},[a("div",[t.$vuetify.breakpoint.smAndUp?a("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]):t._e(),a("span",{staticClass:"ml-3"},[[a("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.firstPage()}}},[a("fluro-icon",{attrs:{icon:"arrow-to-left"}})],1),a("v-btn",{staticClass:"ma-0",attrs:{disabled:t.previousPageDisabled,icon:""},on:{click:function(e){return t.previousPage()}}},[a("fluro-icon",{attrs:{icon:"arrow-left"}})],1)],[a("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.nextPage()}}},[a("fluro-icon",{attrs:{icon:"arrow-right"}})],1),a("v-btn",{staticClass:"ma-0",attrs:{disabled:t.nextPageDisabled,icon:""},on:{click:function(e){return t.lastPage()}}},[a("fluro-icon",{attrs:{icon:"arrow-to-right"}})],1)]],2)])])]:[a("v-flex",{staticClass:"text-muted"},[t._v("\n                        No matches\n                    ")])]],2)],1)]],2)},r=[],i=a("9dd9"),o=i["a"],s=(a("8d1c"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),f=a("b0af"),d=a("a523"),p=a("0e8f"),m=a("a722"),h=a("8860"),v=a("ba95"),g=a("5d23"),y=a("e449"),b=Object(s["a"])(o,n,r,!1,null,null,null);e["a"]=b.exports;c()(b,{VBtn:u["a"],VCard:f["a"],VContainer:d["a"],VFlex:p["a"],VLayout:m["a"],VList:h["a"],VListTile:v["a"],VListTileContent:g["a"],VListTileTitle:g["c"],VMenu:y["a"]})},"2f21":function(t,e,a){"use strict";var n=a("79e5");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},"2fdb":function(t,e,a){"use strict";var n=a("5ca1"),r=a("d2c8"),i="includes";n(n.P+n.F*a("5147")(i),"String",{includes:function(t){return!!~r(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"2fdf":function(t,e,a){"use strict";(function(t){a("ac6a");var n=a("795b"),r=a.n(n),i=(a("7f7f"),a("7514"),a("6b54"),a("f499")),o=a.n(i),s=a("d4f3");e["a"]={props:{loadingKeys:{type:Boolean},value:{type:Object,required:!0},fields:{type:Array,default:function(){return[]}},definition:{type:Object,default:function(){return{}}},rows:{type:Array},mini:{type:Boolean}},beforeCreate:function(){this.$options.components.FilterConditionRow=a("9b50").default,this.$options.components.FilterConditionGroup=a("f811").default},created:function(){this.retrieveValues()},data:function(){var t=[],e=6048e5,a=new Date;return t.push({title:"Next 6 Weeks",date1:a,date2:new Date((new Date).setTime((new Date).getTime()+6*e))}),t.push({title:"Next 2 Weeks",date1:a,date2:new Date((new Date).setTime((new Date).getTime()+2*e))}),t.push({title:"Last 2 Weeks",date1:new Date((new Date).setTime((new Date).getTime()-2*e)),date2:a}),t.push({title:"Last 6 Weeks",date1:new Date((new Date).setTime((new Date).getTime()-4*e)),date2:a}),{datePeriodOptions:t,possibleValues:[],date1:!1,date2:!1,loadingValues:!1,model:JSON.parse(o()(this.value))}},computed:{weekdays:function(){return[{title:"Sunday",value:0},{title:"Monday",value:1},{title:"Tuesday",value:2},{title:"Wednesday",value:3},{title:"Thursday",value:4},{title:"Friday",value:5},{title:"Saturday",value:6}]},readableStartDate:function(){var t=this;return t.$fluro.date.formatDate(t.model.value,"D MMM YYYY")},readableEndDate:function(){var t=this;return t.$fluro.date.formatDate(t.model.value2,"D MMM YYYY")},startDateString:{get:function(){return this.model.value?new Date(this.model.value).toISOString().substr(0,10):""},set:function(t){console.log("Set the value"),this.$set(this.model,"value",new Date(t))}},endDateString:{get:function(){return this.model.value2?new Date(this.model.value2).toISOString().substr(0,10):""},set:function(t){this.$set(this.model,"value2",new Date(t))}},requiresManualInput:function(){switch(this.model.comparator){case"startswith":case"endswith":case"doesnotstartwith":case"doesnotendwith":case"like":case"contains":case"excludes":case"startswith":case"startswith":return!0}},rowChangeString:function(){return"".concat(this.discriminatorDefinition,"-").concat(this.discriminatorType).concat(this.discriminator,"-").concat(this.model.key,"-").concat(t.orderBy(this.$fluro.utils.arrayIDs(this.rows),function(t){return t}).toString())},selector:function(){var e=this.model.key;if(this.fields)return t.find(this.fields,{key:e})},valid:function(){return s["a"].isValidFilter(this.model)},comparator:function(){return s["a"].comparatorLookup[this.model.comparator]},inputType:function(){return this.comparator.inputType},dataType:function(){return this.selector&&this.selector.type||"string"},discriminatorType:function(){return this.selector?this.selector._discriminatorType:void 0},discriminatorDefinition:function(){return this.selector?this.selector._discriminatorDefinition:void 0},discriminator:function(){return this.selector?this.selector._discriminator:void 0},comparators:function(){var t="string";return this.selector&&(t=this.selector.type||"string"),s["a"].getComparatorsForType(t)}},watch:{"model.key":function(){this.$set(this.model,"value",null),this.$set(this.model,"value2",null),this.$set(this.model,"values",[])},selector:function(){this.selector?this.model.key=this.selector.key:this.model.key=""},model:{handler:function(){this.$emit("input",this.model)},deep:!0},rowChangeString:function(t){this.retrieveValues()}},methods:{selectDatePeriod:function(t){this.model.value=t.date1,this.model.value2=t.date2},retrieveValues:function(){var e=this,a=this.model.key;if(!a||!a.length)return e.possibleValues=[],void(this.loadingValues=!1);if(!e.rows||!e.rows.length)return e.possibleValues=[],void(this.loadingValues=!1);var n=e.dataType;switch(n){case"date":case"number":case"float":case"integer":case"decimal":return e.possibleValues=[];case"boolean":return e.possibleValues=[!0,!1];default:switch(a){case"definition":if(e.definition&&e.definition.definitions)return e.possibleValues=t.map(e.definition.definitions,function(t){return{title:t.title,_id:t.definitionName}});break;case"status":switch(t.get(e,"definition.type.definitionName")){case"contact":return e.possibleValues=["active","draft","archived","deceased"];case"purchase":return e.possibleValues=["active","cancelled","expired","failed","archived"];default:return e.possibleValues=["active","draft","archived","template"]}break;case"gender":return e.possibleValues=["male","female","unknown"]}break}this.loadingValues=!0;var i=this.$fluro.cache.get("filter-distinct-values"),o=i[e.rowChangeString];if(o)console.log("Values Cache exists",o);else{var s=t.some(e.rows,function(t){return t.hasOwnProperty(a)});if(s)e.possibleValues=t.chain(e.rows).map(a).flatten().compact().uniqBy(function(t){return t.title||t.name||String(t)}).orderBy(function(t){return t.title||t.name||String(t)}).value(),o=i[e.rowChangeString]=r.a.resolve(e.possibleValues),console.log("We Already have the key of",a);else{var l=t.map(e.rows,"_id"),c={};"reference"==e.dataType&&(c.params||(c.params={}),c.params.populate=!0);var u=e.discriminatorDefinition;u&&u.length&&(c.params||(c.params={}),c.params.definition=u);var f=e.discriminatorType;f&&f.length&&(c.params||(c.params={}),c.params.discriminatorType=f);var d=e.discriminator;d&&d.length&&(c.params||(c.params={}),c.params.discriminator=d),console.log("Retrieve Values for ",a),o=i[e.rowChangeString]=e.$fluro.content.values(l,a,c)}}o.then(function(t){e.possibleValues=t,e.loadingValues=!1},function(t){e.possibleValues=[],e.loadingValues=!1,i[e.rowChangeString]=null})}}}}).call(this,a("2ef0"))},"30f2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"checkbox-cell"},[a("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""}},[a("span",{staticClass:"checkbox-outer",class:{active:t.checked}},[a("fluro-icon",{attrs:{library:"fas",icon:"check"}})],1)])],1)},r=[],i={props:{checked:{type:Boolean}},data:function(){return{}},computed:{library:function(){return this.checked?"fas":void 0},icon:function(){return this.checked?"check-square":"square"}}},o=i,s=(a("cdc4"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),f=Object(s["a"])(o,n,r,!1,null,"7704fcaa",null);e["a"]=f.exports;c()(f,{VBtn:u["a"]})},"4ab6":function(t,e,a){},5147:function(t,e,a){var n=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,!"/./"[t](e)}catch(r){}}return!0}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"55dd":function(t,e,a){"use strict";var n=a("5ca1"),r=a("d8e8"),i=a("4bf8"),o=a("79e5"),s=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),r(t))}})},"5d5c":function(t,e,a){"use strict";(function(t){a("7f7f");e["a"]={props:{column:{type:Object},row:{type:Object}},computed:{key:function(){return this.column.key},rawValue:function(){return t.get(this.row,this.key)},value:function(){var e=this.rawValue;return t.isArray(e)?t.chain(e).compact().map(function(t){return t.title||t.name}).compact().value().slice(0,10).join(", "):t.isObject(e)?"event"==e._type?e.title+'<span class="text-muted"> // '+this.$fluro.formatDate(e.startDate,"h:mma dddd D MMM, Y")+"</span>":e.title||e.name:e}}}}).call(this,a("2ef0"))},"5dbc":function(t,e,a){var n=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var i,o=e.constructor;return o!==a&&"function"==typeof o&&(i=o.prototype)!==a.prototype&&n(i)&&r&&r(t,i),t}},6762:function(t,e,a){"use strict";var n=a("5ca1"),r=a("c366")(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"7ac1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""}},[a("span",{staticClass:"checkbox-outer",class:{active:t.all,some:t.some}},[a("fluro-icon",{attrs:{library:"fas",icon:t.icon}})],1)])},r=[],i={props:{all:{type:Boolean},some:{type:Boolean}},computed:{icon:function(){return!this.all&&this.some?"minus":"check"}}},o=i,s=(a("8344"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),f=Object(s["a"])(o,n,r,!1,null,"1f67704f",null);e["a"]=f.exports;c()(f,{VBtn:u["a"]})},8344:function(t,e,a){"use strict";var n=a("c818"),r=a.n(n);r.a},"8b02":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{class:{"text-xs-center":"center"==t.column.align,"text-xs-right":"right"==t.column.align}},[t.column.renderer?a(t.column.renderer,{tag:"component",attrs:{data:t.rawValue,row:t.row,column:t.column}}):t._t("default",[t._v("\n        "+t._s(t.value)+"\n    ")],{value:t.value,row:t.row,column:t.column})],2)},r=[],i=a("5d5c"),o=i["a"],s=a("2877"),l=Object(s["a"])(o,n,r,!1,null,"5c6b9b00",null);e["a"]=l.exports},"8b97":function(t,e,a){var n=a("d3f4"),r=a("cb7c"),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},"8d1c":function(t,e,a){"use strict";var n=a("d657"),r=a.n(n);r.a},9093:function(t,e,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},"9b50":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"filter-condition-row",class:{mini:t.mini},attrs:{"pa-0":""}},[a("v-layout",[a("v-flex",{attrs:{xs4:""}},[t.fields.length?[t.$vuetify.breakpoint.xsOnly?[a("v-select",{attrs:{"single-line":"",dense:"",loading:t.loadingKeys,"item-text":"title","item-value":"key",items:t.fields},model:{value:t.model.key,callback:function(e){t.$set(t.model,"key",e)},expression:"model.key"}})]:[a("v-autocomplete",{attrs:{"single-line":"",dense:"",loading:t.loadingKeys,"item-text":"title","item-value":"key",items:t.fields},model:{value:t.model.key,callback:function(e){t.$set(t.model,"key",e)},expression:"model.key"}})]]:[a("v-text-field",{attrs:{"single-line":"",label:""},model:{value:t.model.key,callback:function(e){t.$set(t.model,"key",e)},expression:"model.key"}})]],2),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{"single-line":"",dense:"","item-text":"title","item-value":"operator",items:t.comparators},model:{value:t.model.comparator,callback:function(e){t.$set(t.model,"comparator",e)},expression:"model.comparator"}})],1),t.comparator?["none"==t.inputType?void 0:"daterange"==t.inputType?a("v-flex",{attrs:{xs4:""}},[a("v-menu",{ref:"dateSelection",attrs:{fixed:!0,right:!0,"close-on-content-click":!1,transition:"slide-y-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"ma-0",attrs:{small:"",flat:"",block:""}},n),[a("fluro-icon",{attrs:{library:"far",icon:"calendar",left:""}}),t._v(" "+t._s(t.readableStartDate)+" - "+t._s(t.readableEndDate)+"\n                        ")],1)]}}],null,!1,3011863967)},[a("v-card",[a("v-layout",[a("v-flex",[a("v-card-text",[a("label",[t._v(" ")]),a("v-list",{attrs:{dense:""}},t._l(t.datePeriodOptions,function(e){return a("v-list-tile",{key:e.value,on:{click:function(a){return t.selectDatePeriod(e)}}},[t._v("\n                                            "+t._s(e.title)+"\n                                        ")])}),1)],1)],1),a("v-flex",[a("v-card-text",{staticClass:"text-sm-center"},[a("label",[t._v("From Date")])]),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDateString,callback:function(e){t.startDateString=e},expression:"startDateString"}})],1),a("v-flex",[a("v-card-text",{staticClass:"text-sm-center"},[a("label",[t._v("To Date")])]),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDateString,callback:function(e){t.endDateString=e},expression:"endDateString"}})],1)],1)],1)],1)],1):"range"==t.inputType?a("v-flex",{attrs:{xs4:""}},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"from"},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",label:"to"},model:{value:t.model.value2,callback:function(e){t.$set(t.model,"value2",e)},expression:"model.value2"}})],1)],1)],1):"array"==t.inputType?a("v-flex",{attrs:{xs4:""}},[t.$vuetify.breakpoint.xsOnly?[a("v-select",{staticClass:"small-input",attrs:{multiple:"",dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.possibleValues},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]:[a("v-autocomplete",{staticClass:"small-input",attrs:{multiple:"",dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.possibleValues},model:{value:t.model.values,callback:function(e){t.$set(t.model,"values",e)},expression:"model.values"}})]],2):a("v-flex",{attrs:{xs4:""}},["date"==t.dataType?["datesameweekday"==t.model.comparator?[a("v-select",{attrs:{"single-line":"",multiple:"",dense:"","item-text":"title","item-value":"value",items:t.weekdays},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[a("v-menu",{ref:"date1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({staticClass:"small-input",attrs:{"single-line":"",label:"Date"},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}},n))]}}],null,!1,1640910648),model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.date1=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.date1.save(t.model.value)}}},[t._v("OK")])],1)],1)]]:"number"==t.dataType||"float"==t.dataType||"decimal"==t.dataType?a("v-text-field",{staticClass:"small-input",attrs:{"single-line":""},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}}):"integer"==t.dataType?a("v-text-field",{staticClass:"small-input",attrs:{"single-line":"",mask:"############"},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}}):"reference"==t.dataType?[t.$vuetify.breakpoint.xsOnly?[a("v-select",{staticClass:"small-input",attrs:{dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.possibleValues},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[a("v-autocomplete",{staticClass:"small-input",attrs:{dense:"","item-text":"title","item-value":"_id",loading:t.loadingValues,items:t.possibleValues},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]]:[t.requiresManualInput?[a("v-text-field",{staticClass:"small-input",attrs:{"single-line":""},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[t.$vuetify.breakpoint.xsOnly?[a("v-select",{staticClass:"small-input",attrs:{dense:"",loading:t.loadingValues,items:t.possibleValues},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]:[a("v-autocomplete",{staticClass:"small-input",attrs:{dense:"",loading:t.loadingValues,items:t.possibleValues},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}})]]]],2)]:t._e()],2)],1)},r=[],i=a("2fdf"),o=i["a"],s=(a("bd50"),a("2877")),l=a("6544"),c=a.n(l),u=a("c6a6"),f=a("8336"),d=a("b0af"),p=a("99d9"),m=a("a523"),h=a("2e4b"),v=a("0e8f"),g=a("a722"),y=a("8860"),b=a("ba95"),k=a("e449"),w=a("b56d"),x=a("9910"),_=a("2677"),S=Object(s["a"])(o,n,r,!1,null,"6799bd5c",null);e["default"]=S.exports;c()(S,{VAutocomplete:u["a"],VBtn:f["a"],VCard:d["a"],VCardText:p["b"],VContainer:m["a"],VDatePicker:h["a"],VFlex:v["a"],VLayout:g["a"],VList:y["a"],VListTile:b["a"],VMenu:k["a"],VSelect:w["a"],VSpacer:x["a"],VTextField:_["a"]})},"9cfb":function(t,e,a){},"9dd9":function(t,e,a){"use strict";(function(t){a("28a5"),a("6b54"),a("a481");var n,r,i=a("795b"),o=a.n(i),s=(a("7f7f"),a("59ad")),l=a.n(s),c=(a("55dd"),a("ac6a"),a("6762"),a("2fdb"),a("f499")),u=a.n(c),f=a("e814"),d=a.n(f),p=(a("386d"),a("c5f6"),a("7ac1")),m=a("30f2"),h=a("8b02"),v=a("bc3a"),g=a.n(v),y=a("d4f3"),b=g.a.CancelToken,k=1e5,w=5e3;e["a"]={props:{defaultFields:{type:Array,default:function(){return[]}},grouping:{type:Function},includeArchivedByDefault:{type:Boolean},enableSelection:{type:Boolean,default:!0},defaultSort:{type:String,default:"title"},defaultSortType:{type:String,default:"string"},defaultSortDirection:{type:String,default:"asc"},clicked:{type:Function,default:function(){return function(t,e){}}},columns:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},filterConfig:{type:Object,default:function(){return{operator:"and",filters:[]}}},initPage:{type:[Number,String],default:1},initSort:{type:Object,default:function(){return{key:"title",direction:"asc",type:"string"}}},pageSize:{type:Number,default:100},dataSource:{type:String},allDefinitions:{type:Boolean},search:{type:String},startDate:{type:Date},endDate:{type:Date}},data:function(){return{filtered:[],refined:[],debouncedSearch:this.search,perPage:this.pageSize,loading:!1,loadingItems:!1,currentPage:d()(this.initPage),previousSelectionIndex:-1,sort:JSON.parse(u()(this.initSort)),rowsLoaded:0}},computed:{selectionEnabled:function(){return!(!1===this.enableSelection)&&this.$selection},grouped:function(){var t=this;return t.grouping?t.grouping(t.page):void 0},excludeArchived:function(){var e=this;if(e.includeArchivedByDefault)return!1;var a=t.some(e.activeFilterRows,function(e){if("status"==e.key){var a="archived"==e.value||t.includes(e.values,"archived"),n="deceased"==e.value||t.includes(e.values,"deceased");switch(e.comparator){case"==":case"startswith":case"endswith":case"like":case"contains":case"in":return a||n;default:return!a&&!n}}});return!a},rowsTotal:function(){return this.rowsLoaded||this.rows.length||w||k},showLoading:function(){return this.loading||this.loadingItems},activeFilters:function(){return y["a"].activeFilters(this.filterConfig)},activeFilterRows:function(){return t.filter(this.activeFilters,function(t){return t.comparator&&t.comparator.length})},activeFilterKeys:function(){return y["a"].activeFilterKeys(this.filterConfig)},activeFilterValues:function(){return y["a"].activeFilterValues(this.filterConfig)},activeFilterComparators:function(){return y["a"].activeFilterComparators(this.filterConfig)},activeFilterOperators:function(){return y["a"].activeFilterComparators(this.filterConfig)},rowCheckString:function(){var e=this.rows||[],a=t.map(e,"_id").join(""),n=t.keys(e[0]);return"".concat(a).concat(n)},dateWatchString:function(){if(this.startDate&&this.endDate)return String(this.startDate)+String(this.endDate)},filterCheckString:function(){var t=y["a"].getFilterChangeString(this.filterConfig);return t},isAsync:function(){return this.dataSource&&this.dataSource.length},previousPageDisabled:function(){return this.currentPage<=1},nextPageDisabled:function(){return this.currentPage==this.totalPages},sorted:function(){var e=this,a=this.refined;if(!e.sort||!a.length)return a;var n=e.sort.sortKey,r=e.sort.sortType,i=e.sort.sortDirection;return n&&n.length||(n=e.defaultSort),r&&r.length||(r=e.defaultSortType),i&&i.length||(i=e.defaultSortDirection),a=t.orderBy(a,function(e){var a=t.get(e,n);t.isArray(a)&&a.length&&(a=a[0]);var i=void 0===a||null===a;switch(r){case"boolean":return a?1:0;case"number":case"integer":case"decimal":case"float":return i||isNaN(a)?-1e34:"integer"==r?d()(a):l()(a);case"date":if(i)return 0;var o=new Date(a),s=o.getTime();return isNaN(s)?0:s;default:return t.isObject(a)&&(a.title?a=a.title:a.name&&(a=a.name)),String(a).toLowerCase()}}),"desc"==e.sort.sortDirection&&a.reverse(),a},filteredTotal:function(){return this.refined?this.refined.length:0},availablePages:function(){var e=t.chunk(this.sorted,this.perPage);return e},startOffset:function(){return Math.floor((this.currentPage-1)*this.perPage)},endOffset:function(){return Math.min(this.startOffset+this.perPage,this.filteredTotal)},rawPage:function(){return this.currentPage>this.totalPages?t.first(this.availablePages):this.availablePages[this.currentPage-1]},totalPages:function(){return this.availablePages?this.availablePages.length:0},allSelected:function(){var e=this;if(e.page&&e.page.length){var a=t.some(e.page,function(t){var a=!e.$selection.isSelected(t);return a});return!a}},someSelected:function(){var e=this;return!!e.allSelected||t.some(e.page,function(t){return e.$selection.isSelected(t)})},selectAllIcon:function(){return this.allSelected?"check-square":this.someSelected?"minus-square":"square"}},asyncComputed:{rows:{default:[],get:function(){var e=this;if(!e.isAsync)return o.a.resolve([]);var a=["_id","title","status"];(e.startDate||e.endDate)&&(a.push("startDate"),a.push("endDate")),e.sort&&e.sort.sortKey&&a.push(e.sort.sortKey);var r=e.excludeArchived;a=a.concat(e.activeFilterKeys);var i=!1,s=!1;return e.loadingItems=!0,e.rowsLoaded=0,a=t.chain(a).compact().uniq().value(),console.log("FIELDS",a),new o.a(function(o,l){var c=0,f=0,d=[];function p(t){var a=t.length==w,n=d.length>=k;if(a&&!n)return c++,f=c*w,console.log("Loading Chunk",c,f,"-",f+w),m();o(d),e.loadingItems=!1,e.$emit("raw",d)}return m();function m(){n=b.source();var o={fields:a,limit:w,offset:f};"/content/contact"==e.dataSource&&(i&&i.length&&(o.appendContactDetail=i),s&&(o.appendFullFamily=!0)),r&&(o.excludeArchived=!0),e.allDefinitions&&(o.allDefinitions=!0);var c=t.chain(u()(o)).compact().orderBy(function(t){return t}).value().join("");c="".concat(e.dataSource,"-").concat(c);var m=e.$fluro.cache.get("async-table-cache"),h=m[c];if(h)return v(h);function v(t){return d=d.concat(t),e.rowsLoaded+=d.length,p(t)}return e.$fluro.api.get(e.dataSource,{params:o,cancelToken:n.token}).then(function(t){m[c]=t.data,v(t.data)},function(t){if(!g.a.isCancel(t))return l(t)})}})}},page:{default:[],get:function(){var e=this;if(!e.isAsync)return o.a.resolve(e.rawPage);var a=t.map(e.rawPage,"_id");if(!a||!a.length)return e.loading=!1,o.a.resolve([]);var n=["title","_type","definition"];return n=n.concat(t.chain(e.columns).map(function(t){switch(t.key){case"firstName":return["firstName","preferredName","ethnicName"];case"lastName":return["lastName","maidenName"]}return t.additionalFields&&t.additionalFields.length?[].concat(t.additionalFields,t.key):t.key}).flatten().uniq().compact().value()),e.loading=!0,new o.a(function(i,o){r=b.source(),e.$fluro.api.get("/content/multiple",{params:{ids:a,select:n,populateAll:!0,limit:a.length},cancelToken:r.token}).then(function(n){var r=t.reduce(n.data,function(t,e,a){return t[e._id]=e,t},{}),o=t.chain(a).map(function(t,e){var a=r[t];return a._pageIndex=e,a}).compact().value();i(o),e.loading=!1},function(t){if(!g.a.isCancel(t))return o(t)})})}}},filters:{numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},watch:{items:"refilter",rows:"refilter",filterCheckString:"refilter",search:t.debounce(function(t){this.debouncedSearch=t,this.refine()},500),dateWatchString:t.debounce(function(t){this.refine()},500)},methods:{refilter:function(){console.log("Refilter");var e=this,a=e.isAsync?e.rows:e.items;if(!a||!a.length)return e.filtered=a,e.refine();var n=y["a"].isValidFilter(e.filterConfig);n&&(a=t.filter(a,function(t){return y["a"].filterGroupMatch(e.filterConfig,t)})),e.filtered=a,e.refine()},refine:function(){console.log("Refine");var e=this,a=e.filtered;if(a&&a.length){var n=a;if(e.debouncedSearch&&e.debouncedSearch.length){var r=String(e.debouncedSearch).toLowerCase().trim(),i=r.split(" ");n=t.filter(n,function(e){var a=String(e.title).trim().toLowerCase(),n=t.includes(a,r);if(n)return!0;var o=t.every(a.split(" "),function(e){return t.some(i,function(a){return t.includes(a,e)})});return!!o||y["a"].matchAnyString(r,e)})}if(e.startDate&&e.endDate){var o=new Date(e.startDate);o.setHours(0,0,0,0);var s=new Date(e.endDate);s.setHours(0,0,0,0),n=t.filter(n,function(t){var e=new Date(t.startDate);e.setHours(0,0,0,0);var a=new Date(t.endDate);if(a.setHours(0,0,0,0),!(a<o)&&!(e>s))return!0})}console.log("REFINED DATE",n.length),e.refined=n}else e.refined=[]},checkboxClick:function(t,e,a){return console.log("ITEM INDEX",a,t,e),this.toggleSelection(t,e,a)},toggleSelection:function(t,e,a,n){if(!e)return n?void this.$selection.setSelection([t]):void this.$selection.toggle(t);if(e.metaKey)return this.previousSelectionIndex=-1,this.$selection.toggle(t);if(!e.shiftKey)return this.previousSelectionIndex=a,n?(this.$selection.previousIntent="select",this.$selection.setSelection([t])):this.$selection.toggle(t);if(a||(this.previousSelectionIndex=-1),-1!=this.previousSelectionIndex){var r=Math.min(this.previousSelectionIndex,a),i=Math.max(this.previousSelectionIndex,a);a>this.previousSelectionIndex&&(i+=1),this.previousSelectionIndex=a;var o=this.page.slice(r,i);switch(this.$selection.previousIntent){case"deselect":return this.$selection.deselectMultiple(o);default:return this.$selection.selectMultiple(o)}}return this.previousSelectionIndex=a,this.$selection.toggle(t)},isSortable:function(t){if(t){var e=!(!1===t.sortable);return e}},setSort:function(t){this.sort=t,this.$emit("sort",t)},toggleSort:function(t){var e=this;if(e.isSortable(t)&&t.key&&t.key.length){var a=t.key,n=t.sortType||"string",r=e.sort&&e.sort.sortKey==a,i=e.sort.sortDirection,o=r&&"asc"==i?"desc":"asc";e.isAsync,e.setSort({sortKey:a,sortType:n,sortDirection:o}),e.setPage(1)}},classes:function(t){var e=[];return t?(this.$selection.isSelected(t)&&e.push("selected"),e.push("status-"+t.status),e):e},setPage:function(t){if(this.currentPage!=t){this.currentPage=t;var e=this.$refs.top;e&&e.scrollIntoView({}),this.$emit("page",t)}else console.log("already at page",t)},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.totalPages},nextPage:function(){this.currentPage<this.totalPages?this.setPage(this.currentPage+1):this.setPage(this.totalPages)},previousPage:function(){this.currentPage>1?this.setPage(this.currentPage-1):this.setPage(1)},selectPage:function(){this.page&&this.page.length&&this.$selection.selectMultiple(this.page)},deselectPage:function(){this.page&&this.page.length&&this.$selection.deselectMultiple(this.page)},selectAll:function(){this.$selection.selectMultiple(this.refined)},deselectAll:function(){this.$selection.deselectAll()},toggleSelectAll:function(){this.page&&this.page.length&&(this.allSelected?this.$selection.deselectMultiple(this.page):this.$selection.selectMultiple(this.page))}},components:{TableHeaderCheckbox:p["a"],TableRowCheckbox:m["a"],TableCell:h["a"]}}}).call(this,a("2ef0"))},aa77:function(t,e,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),o=a("fdef"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),f=function(t,e,a){var r={},s=i(function(){return!!o[t]()||l[t]()!=l}),c=r[t]=s?e(d):o[t];a&&(r[a]=c),n(n.P+n.F*s,"String",r)},d=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},aef6:function(t,e,a){"use strict";var n=a("5ca1"),r=a("9def"),i=a("d2c8"),o="endsWith",s=""[o];n(n.P+n.F*a("5147")(o),"String",{endsWith:function(t){var e=i(this,t,o),a=arguments.length>1?arguments[1]:void 0,n=r(e.length),l=void 0===a?n:Math.min(r(a),n),c=String(t);return s?s.call(e,c,l):e.slice(l-c.length,l)===c}})},bd50:function(t,e,a){"use strict";var n=a("9cfb"),r=a.n(n);r.a},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),o=a("5dbc"),s=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,f=a("86cc").f,d=a("aa77").trim,p="Number",m=n[p],h=m,v=m.prototype,g=i(a("2aeb")(v))==p,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var a,n,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if(o=l.charCodeAt(c),o<48||o>r)return NaN;return parseInt(l,n)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof m&&(g?l(function(){v.valueOf.call(a)}):i(a)!=p)?o(new h(b(e)),a,m):b(e)};for(var k,w=a("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(h,k=w[x])&&!r(m,k)&&f(m,k,u(h,k));m.prototype=v,v.constructor=m,a("2aba")(n,p,m)}},c818:function(t,e,a){},cdc4:function(t,e,a){"use strict";var n=a("1657"),r=a.n(n);r.a},d2c8:function(t,e,a){var n=a("aae3"),r=a("be13");t.exports=function(t,e,a){if(n(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(t))}},d4f3:function(t,e,a){"use strict";a("4917"),a("28a5"),a("aef6"),a("f559"),a("6762"),a("2fdb");var n=a("59ad"),r=a.n(n),i=(a("7f7f"),a("ac6a"),a("2ef0")),o=a.n(i),s=a("c1df"),l=a.n(s),c=a("0430"),u=a.n(c),f={};function d(t,e){if(!t)return"";if(e){if(t._id)return String(t._id);if(t._external)return String(t._external)}return t.title?String(t.title).toLowerCase():t.name?String(t.name).toLowerCase():String(t).toLowerCase()}function p(t,e){var a=[];return t?o.a.isObject(t)?o.a.isArray(t)?o.a.flatten(p(t,e)):(e&&(t._id&&t._id.length&&a.push(t._id),t._external&&t._external.length&&a.push(t._external)),t.title&&t.title.length&&a.push(String(t.title).toLowerCase()),t.name&&t.name.length&&a.push(String(t.name).toLowerCase()),a):[String(t).toLowerCase()]:a}function m(t,e,a){var n=r()(e),i=r()(a),o=r()(t),s=Math.min(n,i),l=Math.max(n,i),c=o>=s&&o<=l;return c}function h(t,e){var a=d(t,!0);return o.a.some(e,function(t){d(t,!0);return a==d(t,!0)})}function v(t){return!t}function g(t,e){var a=p(t,!0),n=d(e,!0);if(a==n)return!0;var r=o.a.includes(a,n);return r}function y(t,e){return o.a.isString(e)&&(e=d(e)),o.a.includes(e,d(t))}function b(t,e,a,n){var r=new Date(t);r.setHours(0,0,0,0);var i=new Date(e);switch(i.setHours(0,0,0,0),a){case"date":return String(r)==String(i);case"week":return l()(r).format("W YYYY")==l()(i).format("W YYYY");case"month":return l()(r).format("M YYYY")==l()(i).format("M YYYY");case"year":return l()(r).format("YYYY")==l()(i).format("YYYY");case"historical":return l()(r).format("D MMM")==l()(i).format("D MMM");case"before":return r<i;case"after":return r>i}}f.activeFilters=function(t){var e=[];return a(t,e),e;function a(t,e){var n=f.isValidFilter(t);n&&e.push(t),t.filters&&t.filters.length&&o.a.each(t.filters,function(t){a(t,e)})}},f.activeFilterRows=function(t){return o.a.filter(f.activeFilters,function(t){return t.comparator&&t.comparator.length})},f.activeFilterKeys=function(t){var e=o.a.chain(f.activeFilters(t)).map(function(t){if(t&&t.key)return f.getRootKey(t.key)}).compact().uniq().value();return e},f.activeFilterValues=function(t){var e=o.a.chain(f.activeFilters(t)).map(function(t){var e=[],a=f.getComparator(t.comparator);if(a){switch(a.inputType){case"array":e=e.concat(t.values);break;case"range":case"daterange":e=e.concat([t.value,t.value2]);break;default:e.push(t.value);break}return e}}).flatten().compact().map(function(t){var e=t.title||t.name||t._id||t;return String(e).toLowerCase()}).compact().uniq().value();return e},f.activeFilterComparators=function(t){var e=[];return a(t,e),e;function a(t,e){var n=f.isValidFilter(t);n&&e.push(t.comparator),t.filters&&t.filters.length&&o.a.each(t.filters,function(t){a(t,e)})}},f.activeFilterOperators=function(t){var e=[],a=[];r(t,e,a);var n=o.a.chain(e).flatten().reduce(function(t,e){return t[e]||(t[e]=0),t[e]++,t},{}).map(function(t,e){return"".concat(t).concat(e)}).compact().value();return n;function r(t,e,a){var n=t.operator;if(n){a.push(n);var i=o.a.some(t.filters,function(t){return f.isValidFilter(t)});i&&e.push(a.slice())}else a.length=0;t.filters&&t.filters.length?o.a.each(t.filters,function(t){r(t,e,a)}):a.length=0}},f.getFilterChangeString=function(t){var e=[f.activeFilterKeys(t).join(", "),f.activeFilterValues(t).join(", "),f.activeFilterComparators(t).join(", "),f.activeFilterOperators(t).join(", ")].join("");return e},f.matchAnyString=function(t,e){var a=o.a.values(e),n=d(t);return o.a.some(a,function(t){return o.a.includes(d(t),n)})},f.isSimilar=function(t,e,a){a||(a={});var n=u.a.compareTwoStrings(d(t),d(e)),r=n>=.6;return a.source&&(a._similar||(a._similar=0),a._similar+=r),r},f.comparators=[],f.comparators.push({title:"Is on day ",operator:"datesameday",match:function(t,e){return o.a.isArray(t)?o.a.some(t,function(t){return b(t,e,"date")}):b(t,e,"date")},restrict:["date"]}),f.comparators.push({title:"Is same day not year",operator:"datenotyear",match:function(t,e){return o.a.isArray(t)?o.a.some(t,function(t){return b(t,e,"historical")}):b(t,e,"historical")},dateDisplayFormat:"YYYY",restrict:["date"]}),f.comparators.push({title:"Is weekday",operator:"datesameweekday",match:function(t,e){var a=String(e);if(o.a.isArray(t))return o.a.some(t,function(t){var e=l()(t).weekday();return o.a.includes(a,e)});var n=l()(t).weekday();return o.a.includes(a,n)},dateDisplayFormat:"dddd",restrict:["date"]}),f.comparators.push({title:"Is before",operator:"datebefore",match:function(t,e){return b(t,e,"before")},restrict:["date"]}),f.comparators.push({title:"Is after",operator:"dateafter",match:function(t,e){return b(t,e,"after")},restrict:["date"]}),f.comparators.push({title:"Is between",operator:"betweendate",match:function(t,e,a){var n=new Date(t);n.setHours(0,0,0,0);var r=new Date(e);r.setHours(0,0,0,0);var i=new Date(a);return i.setHours(0,0,0,0),m(n.getTime(),r.getTime(),i.getTime())},restrict:["date"],inputType:"daterange"}),f.comparators.push({title:"Is not between",operator:"notbetweendate",match:function(t,e,a){var n=new Date(t);n.setHours(0,0,0,0);var r=new Date(e);r.setHours(0,0,0,0);var i=new Date(a);return i.setHours(0,0,0,0),!m(n.getTime(),r.getTime(),i.getTime())},restrict:["date"],inputType:"daterange"}),f.comparators.push({title:"Is one of",operator:"in",match:function(t,e){if(o.a.isArray(t))return o.a.some(t,function(t){return h(t,e)});var a=h(t,e);return a},restrict:["string","email","url","reference"],inputType:"array"}),f.comparators.push({title:"Is not one of",operator:"notin",match:function(t,e){return o.a.isArray(t)?!o.a.some(t,function(t){return h(t,e)}):!h(t,e)},restrict:["string","email","url","reference"],inputType:"array"}),f.comparators.push({title:"Is ",operator:"==",match:function(t,e){return o.a.isArray(t)?o.a.some(t,function(t){return g(t,e)}):g(t,e)},restrict:["string","email","url","boolean","number","integer","decimal","float","reference"]}),f.comparators.push({title:"Is not",operator:"!=",positive:!1,match:function(t,e){return o.a.isArray(t)?!o.a.some(t,function(t){return g(t,e)}):!g(t,e)},restrict:["string","email","url","boolean","number","integer","decimal","float","reference"]}),f.comparators.push({title:"Starts with",operator:"startswith",match:function(t,e){return o.a.isArray(t)?o.a.some(t,function(t){return o.a.startsWith(d(t),d(e))}):o.a.startsWith(d(t),d(e))},restrict:["string","email","url","reference"]}),f.comparators.push({title:"Ends with",operator:"endswith",match:function(t,e){return o.a.isArray(t)?o.a.some(t,function(t){return o.a.endsWith(d(t),d(e))}):o.a.endsWith(d(t),d(e))},restrict:["string","email","url","reference"]}),f.comparators.push({title:"Is similar to",operator:"like",match:function(t,e,a,n){return o.a.isArray(t)?o.a.some(t,function(t){return f.isSimilar(t,e)}):f.isSimilar(t,e)},restrict:["string"]}),f.comparators.push({title:"Contains characters",operator:"contains",match:function(t,e){return o.a.isArray(t)?o.a.some(t,function(t){return y(e,t)}):y(e,t)},restrict:["string"]}),f.comparators.push({title:"Does not contain characters",operator:"excludes",match:function(t,e){return o.a.isArray(t)?!o.a.some(t,function(t){return y(e,t)}):!y(e,t)},restrict:["string"]}),f.comparators.push({title:"Is greater than",operator:">",match:function(t,e){return r()(t)>r()(e)},restrict:["number","integer","decimal","float"]}),f.comparators.push({title:"Is less than",operator:"<",match:function(t,e){return r()(t)<r()(e)},restrict:["number","integer","decimal","float"]}),f.comparators.push({title:"Is greater than or equal to",operator:">=",match:function(t,e){return r()(t)>=r()(e)},restrict:["number","integer","decimal","float"]}),f.comparators.push({title:"Is less than or equal to",operator:"<=",match:function(t,e){return r()(t)<=r()(e)},restrict:["number","integer","decimal","float"]}),f.comparators.push({title:"Is between",operator:"between",match:function(t,e,a){return m(t,e,a)},restrict:["number","integer","decimal","float"],inputType:"range"}),f.comparators.push({title:"Is not between",operator:"notbetween",match:function(t,e,a){return!m(t,e,a)},restrict:["number","integer","decimal","float"],inputType:"range"}),f.comparators.push({title:"Is empty",operator:"empty",match:function(t,e){return v(t)},inputType:"none"}),f.comparators.push({title:"Is not empty",operator:"notempty",match:function(t,e){return!v(t)},inputType:"none"}),f.comparators.push({title:"Does not start with",operator:"doesnotstartwith",match:function(t,e){return o.a.isArray(t)?!o.a.some(t,function(t){return o.a.startsWith(d(t),d(e))}):!o.a.startsWith(d(t),d(e))},restrict:["string","email","url","reference"]}),f.comparators.push({title:"Does not end with",operator:"doesnotendwith",match:function(t,e){return o.a.isArray(t)?!o.a.some(t,function(t){return o.a.endsWith(d(t),d(e))}):!o.a.endsWith(d(t),d(e))},restrict:["string","email","url","reference"]});var k=["string","date","boolean","number","integer","decimal","float","reference"];f.comparatorLookup={},f.comparatorTypeLookup={},o.a.each(f.comparators,function(t){f.comparatorLookup[t.operator]=t;var e=t.restrict||[];e.length||(e=k),o.a.each(e,function(e){var a=f.comparatorTypeLookup[e];a||(a=f.comparatorTypeLookup[e]=[]),a.push(t)})}),f.getComparator=function(t){return f.comparatorLookup[t]},f.getComparatorsForType=function(t){return f.comparatorTypeLookup[t]||f.comparators},f.isValidFilter=function(t){if(t.operator)return o.a.some(t.filters,f.isValidFilter);var e=f.getComparator(t.comparator);if(e){var a=f.getRootKey(t.key);if(a&&a.length){switch(e.inputType){case"none":return!0;case"range":if(!t.value||isNaN(t.value))return;if(!t.value2||isNaN(t.value2))return;break;case"daterange":if(!t.value||!o.a.isDate(new Date(t.value)))return;if(!t.value2||!o.a.isDate(new Date(t.value)))return;break;case"array":if(!t.values||!t.values.length)return;break;default:if(!t.value||!o.a.isDate(new Date(t.value)))return;break}return!0}}},f.filterGroupMatch=function(t,e){var a,n=t.operator,r=o.a.filter(t.filters,f.isValidFilter);if(r&&r.length)switch(n){case"or":a=o.a.some(r,function(t){var a=f.filterMatch(t,e);return a});break;case"and":default:a=o.a.every(r,function(t){var a=f.filterMatch(t,e);return a});break}return a},f.getRootKey=function(t){return String(t).split("|")[0]},f.filterMatch=function(t,e){if(t.filters)return f.filterGroupMatch(t,e);var a=f.getRootKey(t.key),n=t.value,r=t.value2,i=f.getComparator(t.comparator||"=="),s=i.inputType;if(!a||!a.length)return!0;if("array"==s){n=t.values||[];if(!n||!n.length)return!0}if("none"!=s&&("undefined"==typeof n||null===n))return!0;if(("range"==s||"daterange"==s)&&("undefined"==typeof r||null===r))return!0;var l=o.a.get(e,a);if("none"==s||"undefined"!=typeof n&&null!==n&&""!=n){var c=i.match(l,n,r,{source:e,key:a});return c}},e["a"]=f},d657:function(t,e,a){},f559:function(t,e,a){"use strict";var n=a("5ca1"),r=a("9def"),i=a("d2c8"),o="startsWith",s=""[o];n(n.P+n.F*a("5147")(o),"String",{startsWith:function(t){var e=i(this,t,o),a=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,a):e.slice(a,a+n.length)===n}})},f811:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-group-outer",class:{mini:t.mini,large:!t.mini}},[a("v-container",{ref:"element",class:[{"pa-2":t.mini},t.model.operator]},[t.model.filters.length>1?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{"d-flex":"","align-center":""}},[t.mini?[a("div",{staticClass:"description"},[t._v("\n                        Match\n                        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.operator,expression:"model.operator"}],staticClass:"select-operator",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.model,"operator",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"and"}},[t._v("all")]),a("option",{attrs:{value:"or"}},[t._v("any")]),a("option",{attrs:{value:"nor"}},[t._v("none")])]),t._v("\n                        of these rules\n                    ")])]:[a("div",{staticClass:"description"},[t._v("\n                        Show items that match\n                        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.operator,expression:"model.operator"}],staticClass:"select-operator",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.model,"operator",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"and"}},[t._v("all")]),a("option",{attrs:{value:"or"}},[t._v("any")]),a("option",{attrs:{value:"nor"}},[t._v("none")])]),t._v(" of these conditions\n                    ")])]],2)],1):t._e(),t._l(t.model.filters,function(e,n){return a("v-layout",{key:e.guid,attrs:{row:""}},[t.model.filters.length>1?a("div",{staticClass:"operator-column offset ",class:t.model.operator,attrs:{"d-flex":"","align-center":""}},[a("span",{staticClass:"operator",class:[{additional:n},t.model.operator]},[t._v(t._s(t.operatingWord(t.model,n)))])]):t._e(),a("v-flex",[a("v-container",{staticClass:"additional filter-group",class:[{"pa-2":t.mini},{"py-2 px-0":!t.mini},e.operator]},[e.filters?[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{"d-flex":"","align-center":""}},[t.mini?[e.filters.length>1?a("div",{staticClass:"description"},[t._v("\n                                        Match\n                                        "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.operator,expression:"group.operator"}],staticClass:"select-operator",on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"operator",a.target.multiple?n:n[0])}}},[a("option",{attrs:{value:"and"}},[t._v("all")]),a("option",{attrs:{value:"or"}},[t._v("any")]),a("option",{attrs:{value:"nor"}},[t._v("none")])]),t._v("\n                                        of these conditions\n                                    ")]):a("div",{staticClass:"description"},[t._v("\n                                        Match these conditions\n                                    ")])]:[a("div",[a("h4",[t._v("Rule "+t._s(n+1))]),e.filters.length>1?a("div",[t._v("\n                                            Show items that match\n                                            "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.operator,expression:"group.operator"}],on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"operator",a.target.multiple?n:n[0])}}},[a("option",{attrs:{value:"and"}},[t._v("All")]),a("option",{attrs:{value:"or"}},[t._v("Any")]),a("option",{attrs:{value:"nor"}},[t._v("None")])]),t._v(" of these conditions\n                                            ")]):t._e()])]],2),a("v-spacer"),t.mini?[a("div",{staticClass:"hover",staticStyle:{"white-space":"nowrap"}},[a("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",flat:"",icon:"",content:"Duplicate rule",color:"grey"},on:{click:function(e){return t.duplicateEntry(t.model,n)}}},[a("fluro-icon",{attrs:{icon:"copy"}})],1),a("v-btn",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ma-0",attrs:{small:"",flat:"",icon:"",content:"Remove rule",color:"red"},on:{click:function(e){return t.removeEntry(t.model,n)}}},[a("fluro-icon",{attrs:{icon:"trash-alt"}})],1)],1)]:[a("div",{staticClass:"hover"},[a("v-btn",{attrs:{small:"",color:"grey",outline:""},on:{click:function(e){return t.duplicateEntry(t.model,n)}}},[a("span",{staticClass:"btn-label"},[t._v("Duplicate")]),a("fluro-icon",{attrs:{right:"",icon:"copy"}})],1),a("v-btn",{attrs:{small:"",color:"red",outline:""},on:{click:function(e){return t.removeEntry(t.model,n)}}},[a("span",{staticClass:"btn-label"},[t._v("Duplicate")]),a("fluro-icon",{attrs:{right:"",icon:"copy"}})],1)],1)]],2),t._l(e.filters,function(n,r){return a("div",{key:n.guid},[a("v-layout",[e.filters.length>1?a("div",{staticClass:"operator-column",class:[e.operator],attrs:{"d-flex":"","align-center":""}},[a("span",{staticClass:"operator",class:[{additional:r},e.operator]},[t._v(t._s(t.operatingWord(e,r)))])]):t._e(),a("v-flex",[a("filter-condition-row",{attrs:{rows:t.rows,loadingKeys:t.loadingKeys,definition:t.definition,fields:t.availableKeys,mini:t.mini},model:{value:e.filters[r],callback:function(a){t.$set(e.filters,r,a)},expression:"group.filters[index]"}})],1),e.filters.length>1?a("div",[t.mini?[a("v-btn",{staticClass:"ma-0",attrs:{small:"",icon:""},on:{click:function(a){return t.removeEntry(e,r)}}},[a("fluro-icon",{attrs:{icon:"times"}})],1)]:[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.removeEntry(e,r)}}},[a("fluro-icon",{attrs:{icon:"times"}})],1)]],2):t._e()],1)],1)})]:t._e(),a("v-btn",{staticClass:"mx-0",attrs:{small:""},on:{click:function(a){return t.addCondition(e)}}},[t._v("\n                        Add Condition\n                        "),a("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)],2)],1)],1)}),t.limit?t._e():a("v-btn",{staticClass:"mx-0",attrs:{color:"white"},on:{click:function(e){return t.addRule(t.model)}}},[t._v("\n            Add "+t._s(t.model.filters.length?"Another":"")+" Rule\n            "),a("fluro-icon",{attrs:{right:"",icon:"plus"}})],1)],2)],1)},r=[],i=a("20df"),o=i["a"],s=(a("fd40"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),f=a("a523"),d=a("0e8f"),p=a("a722"),m=a("9910"),h=Object(s["a"])(o,n,r,!1,null,"020f5bdc",null);e["default"]=h.exports;c()(h,{VBtn:u["a"],VContainer:f["a"],VFlex:d["a"],VLayout:p["a"],VSpacer:m["a"]})},fd40:function(t,e,a){"use strict";var n=a("4ab6"),r=a.n(n);r.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-d1bfe85e.2fbc16cb.js.map