(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df8e94ba"],{"11e9":function(t,e,n){var r=n("52a7"),a=n("4630"),o=n("6821"),c=n("6a99"),i=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=o(t),e=c(e,!0),s)try{return u(t,e)}catch(n){}if(i(t,e))return a(!r.f.call(t,e),t[e])}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var o,c=e.constructor;return c!==n&&"function"==typeof c&&(o=c.prototype)!==n.prototype&&r(o)&&a&&a(t,o),t}},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),o=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},9093:function(t,e,n){var r=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},aa77:function(t,e,n){var r=n("5ca1"),a=n("be13"),o=n("79e5"),c=n("fdef"),i="["+c+"]",s="​",u=RegExp("^"+i+i+"*"),f=RegExp(i+i+"*$"),l=function(t,e,n){var a={},i=o(function(){return!!c[t]()||s[t]()!=s}),u=a[t]=i?e(h):c[t];n&&(a[n]=u),r(r.P+r.F*i,"String",a)},h=l.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},b7a1:function(t,e,n){"use strict";var r=n("5176"),a=n.n(r),o=n("e814"),c=n.n(o);n("c5f6");e["a"]={props:{currentPage:{type:Number,default:function(){return c()(this.$route.query.page)||1}}},methods:{pageChanged:function(t){this.currentPage=t,this.$router.push({query:a()({},this.$route.query,{page:t})})}}}},c5f6:function(t,e,n){"use strict";var r=n("7726"),a=n("69a8"),o=n("2d95"),c=n("5dbc"),i=n("6a99"),s=n("79e5"),u=n("9093").f,f=n("11e9").f,l=n("86cc").f,h=n("aa77").trim,p="Number",d=r[p],g=d,v=d.prototype,_=o(n("2aeb")(v))==p,b="trim"in String.prototype,m=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():h(e,3);var n,r,a,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var c,s=e.slice(2),u=0,f=s.length;u<f;u++)if(c=s.charCodeAt(u),c<48||c>a)return NaN;return parseInt(s,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(_?s(function(){v.valueOf.call(n)}):o(n)!=p)?c(new g(m(e)),n,d):m(e)};for(var y,A=n("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;A.length>N;N++)a(g,y=A[N])&&!a(d,y)&&l(d,y,f(g,y));d.prototype=v,v.constructor=d,n("2aba")(r,p,d)}},f2ea:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[t.user?t._e():n("constrain",{staticClass:"text-xs-center",attrs:{xs:""}},[n("p",[t._v("This page is only available to authenticated users")])]),t.user?n("constrain",[n("v-container",{staticClass:"page-header"},[n("h1",[t._v("Change Account")]),n("p",[t._v("Select an account below")]),t.loaded?t._e():n("div",[n("v-progress-circular",{attrs:{indeterminate:""}}),n("div",[t._v("Loading...")])],1)]),t.accounts.length?n("v-container",[n("v-card",[n("v-card-title",[t._v("\n                    Accounts\n                    "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{"rows-per-page-items":t.pageOptions,headers:t.headers,items:t.filtered},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[n("strong",[t._v(t._s(e.item.title))])]),n("td",{staticClass:"text-xs-right"},[n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(n){return t.changeAccount(e.item)}}},[n("span",[t._v("Sign In")]),n("font-awesome-icon",{attrs:{right:"",icon:["fas","arrow-right"]}})],1)],1)]}}],null,!1,3686837940)})],1)],1):t._e()],1):t._e()],1)},a=[],o=n("795b"),c=n.n(o),i=(n("386d"),n("2ef0")),s=n.n(i),u=n("f217"),f=n("6cd4"),l=n("b7a1"),h=n("77ed"),p={mixins:[u["a"],l["a"],f["a"],h["c"]],data:function(){return{search:"",pageOptions:[10,25,50,100],headers:[{text:"Account Name",align:"left",sortable:!0,value:"title"},{text:"Actions",sortable:!1,value:"_id"}],loaded:!1,accounts:[]}},created:function(){var t=this;return t.routeSearch&&t.routeSearch.component&&t.routeSearch.component.$on("search",function(e){t.search=e}),t.retrieveAccounts()},computed:{routeSearch:function(){return s.a.get(this,"$route.meta.search")}},asyncComputed:{filtered:{default:[],get:function(){var t=this,e=t.search;return new c.a(function(n,r){if(!e||!e.length)return n(t.accounts);var a={shouldSort:!0,tokenize:!0,matchAllTokens:!0,findAllMatches:!0,threshold:.3,location:0,distance:2,maxPatternLength:32,minMatchCharLength:5,keys:["title"]};t.$search(e,t.accounts,a).then(function(t){return n(t)},function(t){return n([])})})}}},methods:{changeAccount:function(t){var e=this,n=s.a.get(e,"user.account._id");if(n==t._id)return a();var r=e.$fluro.auth.changeAccount(t);function a(){console.log("Switched into",t.title),e.$router.push({name:"home"})}r.then(a,function(t){console.log("ERROR",t);e.$fluro.utils.errorMessage(t)})},retrieveAccounts:function(){var t=this;if(t.user){t.loaded=!1;var e=t.$fluro.api.get("/user/accounts",{});e.then(function(e){t.accounts=e.data,t.loaded=!0},function(e){console.log("ERROR!",e),t.loaded=!0})}}}},d=p,g=n("2877"),v=n("6544"),_=n.n(v),b=n("8336"),m=n("b0af"),y=n("12b2"),A=n("a523"),N=n("8fea"),I=n("490a"),x=n("99103"),E=n("2677"),S=Object(g["a"])(d,r,a,!1,null,null,null);S.options.__file="UserAccounts.vue";e["default"]=S.exports;_()(S,{VBtn:b["a"],VCard:m["a"],VCardTitle:y["a"],VContainer:A["a"],VDataTable:N["a"],VProgressCircular:I["a"],VSpacer:x["a"],VTextField:E["a"]})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-df8e94ba.c36058d2.js.map