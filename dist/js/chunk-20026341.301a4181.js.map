{"version":3,"sources":["webpack:///./src/mixins/PersistRouteMixin.js","webpack:///./src/router/routes/people/contacts/List.vue?502d","webpack:///./src/router/routes/people/contacts/List.vue?d10f","webpack:///./src/router/routes/people/contacts/List.vue","webpack:///src/router/routes/people/contacts/List.vue"],"names":["__webpack_exports__","beforeRouteEnter","to","from","next","console","log","beforeRouteUpdate","beforeRouteLeave","render","_vm","this","_h","$createElement","_c","_self","attrs","flex","type","scopedSlots","_u","key","fn","_v","fixed","transition","offset-y","ref","on","_g","staticClass","_s","viewMode","title","staticStyle","font-size","icon","dense","_l","option","click","$event","right","proxy","showFilters","$vuetify","breakpoint","smAndUp","class","active","searchFocussed","search","length","directives","name","rawName","value","expression","placeholder","domProps","focus","blur","input","target","composing","_e","color","small","content","library","fill-height","clicked","rowClicked","data-source","init-page","$route","query","page","filter-config","filterConfig","init-sort","sortKey","sortDirection","sortType","columns","raw","rowsChanged","pageChanged","sort","sortChanged","pa-2","rows","mini","debounce","filterDebounce","model","callback","$$v","staticRenderFns","contacts_Listvue_type_script_lang_js_","Listvue_type_script_lang_js_","component","Object","componentNormalizer","installComponents_default","VBtn","VContainer","VLayout","VList","VListTile","VListTileContent","components_VList","VMenu","RealmDotCell","vue__WEBPACK_IMPORTED_MODULE_13__","extend","props","row","column","data","template","FirstNameCell","LastNameCell","AvatarCell","DateCell","TitleCell","viewModes","defaultFilters","operator","filters","comparator","startPage","Number","default","components","FluroDataTable","_components_table_Table_vue__WEBPACK_IMPORTED_MODULE_10__","FilterConditionGroup","_components_FilterConditionGroup_vue__WEBPACK_IMPORTED_MODULE_11__","mixins","_mixins_PersistRouteMixin__WEBPACK_IMPORTED_MODULE_6__","_mixins_SEOMixin__WEBPACK_IMPORTED_MODULE_5__","_mixins_BreadcrumbMixin__WEBPACK_IMPORTED_MODULE_8__","_mixins_UserMixin__WEBPACK_IMPORTED_MODULE_7__","fluro_vue_ui__WEBPACK_IMPORTED_MODULE_9__","created","destroyed","initalFilter","filter","JSON","parse","selection","$selection","shrink","align","renderer","sortable","computed","columnKeys","_","map","smAndDown","filterChangeString","_modules_FilterService__WEBPACK_IMPORTED_MODULE_12__","getFilterChangeString","watch","$router","replace","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_2___default","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1___default","methods","groupByHousehold","chain","reduce","set","index","groupingTitle","get","concat","groupingKey","existing","items","push","values","orderBy","_type","$fluro","global","view","pageNumber","sortingDetails","asyncComputed"],"mappings":"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","file":"js/chunk-20026341.301a4181.js","sourcesContent":["var cached;\n\nexport default {\n    beforeRouteEnter(to, from, next) {\n        // called before the route that renders this component is confirmed.\n        // does NOT have access to `this` component instance,\n        // because it has not been created yet when this guard is called!\n\n        console.log('Entering route', to);\n        return next();\n    },\n    beforeRouteUpdate(to, from, next) {\n        // called when the route that renders this component has changed,\n        // but this component is reused in the new route.\n        // For example, for a route with dynamic params `/foo/:id`, when we\n        // navigate between `/foo/1` and `/foo/2`, the same `Foo` component instance\n        // will be reused, and this hook will be called when that happens.\n        // has access to `this` component instance.\n\n        console.log('route update')\n        return next();\n    },\n    beforeRouteLeave(to, from, next) {\n        // called when the route that renders this component is about to\n        // be navigated away from.\n        // has access to `this` component instance.\n\n        console.log('Leaving route', from);\n        return next();\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page',{attrs:{\"flex\":\"\"}},[_c('flex-column',[_c('flex-column-header',[_c('page-header',{attrs:{\"type\":\"contact\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('h3',[_vm._v(\"Contacts\\n                        \"),_c('v-menu',{attrs:{\"fixed\":true,\"transition\":\"slide-y-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({staticClass:\"text-muted\"},on),[_vm._v(\"\\n                                    \"+_vm._s(_vm.viewMode.title)+\"\\n                                    \"),_c('fluro-icon',{staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"icon\":\"angle-down\"}})],1)]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.viewModes),function(option){return _c('v-list-tile',{on:{\"click\":function($event){_vm.viewMode = option}}},[_c('v-list-tile-content',[_vm._v(\"\\n                                        \"+_vm._s(option.title)+\"\\n                                    \")]),_c('fluro-icon',{attrs:{\"icon\":option.icon,\"right\":\"\"}})],1)}),1)],1)],1)]},proxy:true},{key:\"right\",fn:function(){return [(!_vm.showFilters && _vm.$vuetify.breakpoint.smAndUp)?_c('div',{staticClass:\"search\",class:{active:_vm.searchFocussed || _vm.search.length}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"placeholder\":\"Search by keyword\"},domProps:{\"value\":(_vm.search)},on:{\"focus\":function($event){_vm.searchFocussed = true},\"blur\":function($event){_vm.searchFocussed = false},\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('div',{staticClass:\"search-icon\",on:{\"click\":function($event){_vm.search = ''}}},[(_vm.search.length)?_c('fluro-icon',{attrs:{\"icon\":\"times\"}}):_c('fluro-icon',{attrs:{\"icon\":\"search\"}})],1)]):_vm._e(),_c('v-btn',{staticClass:\"pa-2 mx-2\",attrs:{\"color\":\"primary\",\"small\":\"\"}},[_c('span',[_vm._v(\"New\")]),_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"plus\"}})],1),_c('v-btn',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"pa-2 mx-2\",attrs:{\"content\":\"Show/Hide filters\",\"small\":\"\"},on:{\"click\":function($event){_vm.showFilters = !_vm.showFilters}}},[_c('span',[_vm._v(\"Filters\")]),(!_vm.showFilters)?_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"filter\"}}):_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"times\"}})],1)]},proxy:true},{key:\"rightmobile\",fn:function(){return [_c('v-btn',{staticClass:\"ma-0 mr-1\",attrs:{\"small\":\"\",\"color\":\"primary\"}},[_c('span',[_vm._v(\"New\")]),_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"plus\"}})],1),_c('v-btn',{staticClass:\"ma-0\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showFilters = !_vm.showFilters}}},[_c('fluro-icon',{attrs:{\"icon\":\"filter\",\"library\":_vm.showFilters ? 'fas': 'far'}})],1)]},proxy:true}])})],1),_c('flex-column-body',[_c('v-layout',{attrs:{\"fill-height\":\"\"}},[_c('flex-column',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$vuetify.breakpoint.smAndUp || !_vm.showFilters),expression:\"$vuetify.breakpoint.smAndUp || !showFilters\"}]},[_c('fluro-data-table',{attrs:{\"clicked\":_vm.rowClicked,\"search\":_vm.search,\"data-source\":\"/content/contact\",\"init-page\":_vm.$route.query.page,\"filter-config\":_vm.filterConfig,\"init-sort\":{sortKey:_vm.$route.query.sortKey, sortDirection:_vm.$route.query.sortDirection, sortType:_vm.$route.query.sortType},\"columns\":_vm.columns},on:{\"raw\":_vm.rowsChanged,\"page\":_vm.pageChanged,\"sort\":_vm.sortChanged}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFilters),expression:\"showFilters\"}],staticClass:\"filter-sidebar scroll-y\"},[_c('v-container',{attrs:{\"pa-2\":\"\"}},[_c('div',{staticClass:\"search\",class:{active:_vm.searchFocussed || _vm.search.length}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"placeholder\":\"Keyword search\"},domProps:{\"value\":(_vm.search)},on:{\"focus\":function($event){_vm.searchFocussed = true},\"blur\":function($event){_vm.searchFocussed = false},\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('div',{staticClass:\"search-icon\",on:{\"click\":function($event){_vm.search = ''}}},[(_vm.search.length)?_c('fluro-icon',{attrs:{\"icon\":\"times\"}}):_c('fluro-icon',{attrs:{\"icon\":\"search\"}})],1)])]),_c('filter-condition-group',{attrs:{\"rows\":_vm.rows,\"mini\":true,\"type\":\"contact\",\"debounce\":_vm.filterDebounce},model:{value:(_vm.filterConfig),callback:function ($$v) {_vm.filterConfig=$$v},expression:\"filterConfig\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=4e541f4e&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VContainer,VLayout,VList,VListTile,VListTileContent,VMenu})\n","<template>\n \n            <page flex>\n                <flex-column>\n                    <flex-column-header>\n                        <page-header type=\"contact\">\n                            <template v-slot:left>\n                                <h3>Contacts\n                                    <v-menu :fixed=\"true\" transition=\"slide-y-transition\" offset-y>\n                                        <template v-slot:activator=\"{ on }\">\n                                            <!-- <v-btn class=\"pa-2\" small v-on=\"on\"> -->\n                                            <span class=\"text-muted\" v-on=\"on\">\n                                                {{viewMode.title}}\n                                                <!-- <fluro-icon right :icon=\"viewMode.icon\" /> -->\n                                                <!-- <fluro-icon style=\"font-size:0.7em;\" icon=\"angle-down\" /> -->\n                                                <fluro-icon style=\"font-size:0.7em;\" icon=\"angle-down\" />\n                                            </span>\n                                            <!-- </v-btn> -->\n                                        </template>\n                                        <v-list dense>\n                                            <v-list-tile @click=\"viewMode = option\" v-for=\"option in viewModes\">\n                                                <v-list-tile-content>\n                                                    {{option.title}}\n                                                </v-list-tile-content>\n                                                <fluro-icon :icon=\"option.icon\" right />\n                                            </v-list-tile>\n                                        </v-list>\n                                    </v-menu>\n                                </h3>\n                            </template>\n                            <template v-slot:right>\n                                <div class=\"search\" v-if=\"!showFilters && $vuetify.breakpoint.smAndUp\" :class=\"{active:searchFocussed || search.length}\">\n                                    <input v-model=\"search\" @focus=\"searchFocussed = true\" @blur=\"searchFocussed = false\" placeholder=\"Search by keyword\" />\n                                    <div class=\"search-icon\" @click=\"search = ''\">\n                                        <fluro-icon icon=\"times\" v-if=\"search.length\" />\n                                        <fluro-icon icon=\"search\" v-else />\n                                    </div>\n                                </div>\n                                <v-btn class=\"pa-2 mx-2\" color=\"primary\" small>\n                                    <span>New</span>\n                                    <fluro-icon right icon=\"plus\" />\n                                </v-btn>\n                                <v-btn class=\"pa-2 mx-2\" @click=\"showFilters = !showFilters\" content=\"Show/Hide filters\" v-tippy small>\n                                    <span>Filters</span>\n                                    <fluro-icon right v-if=\"!showFilters\" icon=\"filter\" />\n                                    <fluro-icon right v-else icon=\"times\" />\n                                </v-btn>\n                            </template>\n                            <template v-slot:rightmobile>\n                                <v-btn class=\"ma-0 mr-1\" small color=\"primary\">\n                                    <!-- -->\n                                    <span>New</span>\n                                    <fluro-icon right icon=\"plus\" />\n                                </v-btn>\n                                <v-btn icon class=\"ma-0\" @click=\"showFilters = !showFilters\">\n                                    <!-- <fluro-icon right v-if=\"!showFilters\" icon=\"filter\" /> -->\n                                    <!-- <fluro-icon right v-else icon=\"times\" /> -->\n                                    <fluro-icon icon=\"filter\" :library=\"showFilters ? 'fas': 'far'\" />\n                                </v-btn>\n                            </template>\n                        </page-header>\n                    </flex-column-header>\n                    <flex-column-body>\n                        \n                        <v-layout fill-height>\n                            <flex-column v-show=\"$vuetify.breakpoint.smAndUp || !showFilters\">\n                                 <!-- :grouping=\"groupByHousehold\"  -->\n                                <fluro-data-table :clicked=\"rowClicked\":search=\"search\" data-source=\"/content/contact\" :init-page=\"$route.query.page\" :filter-config=\"filterConfig\" :init-sort=\"{sortKey:$route.query.sortKey, sortDirection:$route.query.sortDirection, sortType:$route.query.sortType}\" @raw=\"rowsChanged\" @page=\"pageChanged\" @sort=\"sortChanged\" :columns=\"columns\" />\n                            </flex-column>\n                            <div class=\"filter-sidebar scroll-y\" v-show=\"showFilters\">\n                                <v-container pa-2>\n                                    <div class=\"search\" :class=\"{active:searchFocussed || search.length}\">\n                                        <input v-model=\"search\" @focus=\"searchFocussed = true\" @blur=\"searchFocussed = false\" placeholder=\"Keyword search\" />\n                                        <div class=\"search-icon\" @click=\"search = ''\">\n                                            <fluro-icon icon=\"times\" v-if=\"search.length\" />\n                                            <fluro-icon icon=\"search\" v-else />\n                                        </div>\n                                    </div>\n                                </v-container>\n                                <filter-condition-group :rows=\"rows\" :mini=\"true\" v-model=\"filterConfig\" type=\"contact\" :debounce=\"filterDebounce\" />\n                            </div>\n                        </v-layout>\n                    </flex-column-body>\n                </flex-column>\n            </page>\n       \n</template>\n<script>\n/////////////////////////////////////////\n\n//Mixin SEO and head\nimport SEOMixin from '@/mixins/SEOMixin';\nimport PersistRouteMixin from '@/mixins/PersistRouteMixin';\nimport UserMixin from '@/mixins/UserMixin';\nimport BreadcrumbMixin from '@/mixins/BreadcrumbMixin';\n\n//Get our components from FluroVue\nimport { Layout, FluroContentForm, FluroContentFormField } from 'fluro-vue-ui';\nimport FluroDataTable from '@/components/table/Table.vue';\nimport FilterConditionGroup from '@/components/FilterConditionGroup.vue';\n\n\nimport FilterService from '@/modules/FilterService';\n\n/////////////////////////////////////////\n\nimport Vue from \"vue\";\n\n/////////////////////////////////////////\n\n\n\n\n\n\n\n\n\nlet RealmDotCell = Vue.extend({\n    props: {\n        'row': {\n            type: Object,\n        },\n        'column': {\n            type: Object,\n        },\n        'data': {\n            // type: Object,\n        },\n    },\n    template: '<fluro-realm-dots :realms=\"data\"/>',\n});\n\n\nlet FirstNameCell = Vue.extend({\n    props: {\n        'row': {\n            type: Object,\n        },\n        'column': {\n            type: Object,\n        },\n        'data': {\n            // type: Object,\n        },\n    },\n    template: '<span>{{row.preferredName || row.firstName}} <span class=\"muted\" v-if=\"row.ethnicName\">{{row.ethnicName}}</span></span>',\n});\n\n\nlet LastNameCell = Vue.extend({\n    props: {\n        'row': {\n            type: Object,\n        },\n        'column': {\n            type: Object,\n        },\n        'data': {\n            // type: Object,\n        },\n    },\n    template: '<span>{{row.lastName}} <span class=\"muted\" v-if=\"row.maidenName\">({{row.maidenName}})</span></span>',\n});\n\n\nlet AvatarCell = Vue.extend({\n    props: {\n        'row': {\n            type: Object,\n        },\n        'column': {\n            type: Object,\n        },\n        'data': {\n            // type: Object,\n        },\n    },\n    template: '<fluro-avatar md :id=\"data\" type=\"contact\" />',\n});\n\n\nlet DateCell = Vue.extend({\n    props: {\n        'row': {\n            type: Object,\n        },\n        'column': {\n            type: Object,\n        },\n        'data': {\n            // type: Object,\n        },\n    },\n    template: `<span class=\"inline-tag\" :content=\"data | timeago\" v-tippy>{{data | formatDate('MMM D, YYYY')}}</span>`,\n    /**\n    template: `\n        <v-tooltip bottom>\n            <template v-slot:activator=\"{ on }\">-->\n                <span class=\"inline-tag\" v-on=\"on\">{{data | formatDate('MMM D, YYYY')}}</span>\n            </template>\n            <span>{{data | timeago}}</span>\n        </v-tooltip>\n      `,\n      /**/\n\n});\n\nlet TitleCell = Vue.extend({\n    props: {\n        'row': {\n            type: Object,\n        },\n        'column': {\n            type: Object,\n        },\n        'data': {\n            // type: Object,\n        },\n    },\n    template: `\n    <div>\n     <fluro-status-label right v-if=\"row.status != 'active'\" :value=\"row.status\"/>\n        <strong>{{row.title}}</strong><br/>\n       \n    </div>`,\n});\n\n\n/////////////////////////////////////////////////////\n\nvar viewModes = [\n\n    //List/Default View\n    {\n        title: 'List',\n        value: 'default',\n        icon: 'bars',\n    },\n\n\n    {\n        title: 'Map',\n        value: 'map',\n        icon: 'map-marked',\n    },\n\n    {\n        title: 'Duplicates',\n        value: 'duplicates',\n        icon: 'users-class',\n    },\n\n    {\n        title: 'Checkins',\n        value: 'checkins',\n        icon: 'sign-in',\n    },\n\n\n];\n\n\n/**\nvar defaultFilters = {\n    operator: 'and',\n    filters: [{\n            operator: 'and',\n            filters: [{\n                    key: 'status',\n                    comparator: '==',\n                    value: 'active',\n                },\n                {\n                    key: 'age',\n                    comparator: '>',\n                    value: 18,\n                }\n            ]\n        },\n        {\n            operator: 'or',\n            filters: [{\n                    key: 'status',\n                    comparator: '==',\n                    value: 'active',\n                },\n                {\n                    key: 'age',\n                    comparator: '>',\n                    value: 18,\n                }\n            ]\n        },\n    ]\n}\n/**/\n\nvar defaultFilters = {\n    operator: 'and',\n    filters: [{\n        operator: 'and',\n        filters: [{\n            key: 'status',\n            comparator: '==',\n            value: 'active',\n        }]\n    }]\n}\n\n\n\n\n/////////////////////////////////////////////////////\n\nexport default {\n    props: {\n        startPage: {\n            type: Number,\n            default: 1,\n        },\n\n    },\n    components: {\n        FluroDataTable,\n        FilterConditionGroup,\n\n        // RealmDotCell,\n    },\n    mixins: [PersistRouteMixin, SEOMixin, BreadcrumbMixin, UserMixin, Layout],\n    created() {\n        // console.log('LIST CREATED')\n    },\n    destroyed() {\n        // console.log('LIST DESTROYED');\n    },\n    data() {\n\n        var initalFilter = defaultFilters;\n\n        if (this.$route.query.filter && this.$route.query.filter.length) {\n            initalFilter = JSON.parse(this.$route.query.filter);\n        }\n\n\n        return {\n            rows: [], //this is so we can feed the subset into the filter configuration\n            showFilters: false,\n            // async:true,\n            // loading: true,\n            filterConfig: initalFilter,\n            viewModes: viewModes,\n            viewMode: viewModes[0],\n            selection: this.$selection,\n            search: '',\n            searchFocussed: false,\n            columns: [\n                // { title: '', sortable: false },\n                { title: '', shrink: true, align: \"center\", key: 'realms', renderer: RealmDotCell },\n                { title: '', key: '_id', renderer: AvatarCell, sortable: false },\n                { title: 'Title', key: 'title', renderer: TitleCell, },\n                { title: 'First Name', key: 'firstName', renderer: FirstNameCell },\n                { title: 'Last Name', key: 'lastName', renderer: LastNameCell },\n                { type: 'integer', title: 'Age', shrink: true, key: 'age', sortType:'number' },\n                { title: 'Gender', shrink: true, align: 'center', key: 'gender' },\n\n                { title: 'Household', shrink: true, key: 'family' },\n                { type: 'date', title: 'Updated', shrink: true, key: 'updated', renderer: DateCell, sortType:'date' },\n                { type: 'date', title: 'Created', shrink: true, key: 'created', renderer: DateCell, sortType:'date' },\n                { title: 'Status', key: 'status' },\n            ],\n        }\n    },\n    computed: {\n        columnKeys() {\n            return _.map(this.columns, 'key');\n        },\n        filterDebounce() {\n            if (this.$vuetify.breakpoint.smAndDown) {\n                return 1500;\n            } else {\n                return 700\n            }\n        },\n        filterChangeString() {\n            return FilterService.getFilterChangeString(this.filterConfig);\n        }\n    },\n    watch: {\n        filterChangeString() {\n            console.log('Filters changed', this.filterConfig);\n            this.$router.replace({ query: Object.assign({}, this.$route.query, { filter: JSON.stringify(this.filterConfig) }) });\n        }\n    },\n    methods: {\n        groupByHousehold(rows) {\n\n            return _.chain(rows)\n            // .map(function(item, index) {\n            //     item._index = index;\n            //     return item;\n            // })\n            // .orderBy('_index')\n                .reduce(function(set, row, index) {\n\n                    var groupingTitle = _.get(row, 'family.title') ? `${_.get(row, 'family.title')}` : `${_.get(row, 'lastName')} (no household)`;\n                    var groupingKey = _.get(row, 'family._id') || _.get(row, 'lastName');\n\n\n\n\n                    var existing = set[groupingKey];\n                    if (!existing) {\n                        existing = set[groupingKey] = {\n                            title: groupingTitle,\n                            items: [],\n                            index,\n                        }\n                    }\n\n                    existing.items.push(row);\n\n                    return set;\n                }, {})\n                .values()\n                .orderBy('index')\n                .value();\n        },\n        rowClicked(row, column) {\n            // console.log('ROW', row, column);\n\n            row._type = 'contact';\n            this.$fluro.global.view(row);\n            // this.$router.push({\n            //     to:'people.contacts.view',\n            //     params:{\n            //         id:row._id,\n            //     }\n            // })\n        },\n        rowsChanged(rows) {\n            this.rows = rows;\n        },\n        pageChanged(pageNumber) {\n\n            // if(this.$route.query.page == pageNumber) {\n            //     console.log('Page is already set', pageNumber)\n            //     return;\n            // }\n            // console.log('Table page changed', pageNumber);\n            this.$router.push({ query: Object.assign({}, this.$route.query, { page: pageNumber }) });\n        },\n        sortChanged(sortingDetails) {\n\n            //console.log('Table sort changed', sortingDetails);\n            this.$router.replace({ query: Object.assign({}, this.$route.query, sortingDetails) });\n        },\n    },\n    // activated() {\n    //     console.log('ACTIVATED')\n    // },\n    // deactivated() {\n    //      console.log('DEACTIVATED')\n    // },\n    asyncComputed: {\n        // filterableFields: {\n        //     default: [],\n        //     get() {\n\n        //         var self = this;\n\n        //         return new Promise(function(resolve, reject) {\n\n        //             self.$fluro.types.get('contact').then(function(res) {\n\n        //                 return resolve(res);\n        //             }, reject);\n\n        //         });\n        //     }\n        // }\n        // items: {\n        //     default: [],\n        //     get() {\n\n        //         var self = this;\n        //         self.loading = true;\n\n        //         return new Promise(function(resolve, reject) {\n        //             if (self.async) {\n\n        //                 //Load just the IDS then asynchronously load the rest\n        //                 return self.$fluro.api.get('/content/contact', {\n        //                     params: {\n        //                         fields: '_id'\n        //                     }\n        //                 }).then(function(res) {\n        //                     resolve(res.data);\n        //                     self.loading = false;\n        //                 }, reject);\n\n        //             } else {\n\n        //                 //Load entirety\n        //                 return self.$fluro.api.get('/content/contact').then(function(res) {\n        //                     resolve(res.data);\n        //                     self.loading = false;\n        //                 }, reject);\n        //             }\n\n\n\n\n\n        //         });\n\n        //     }\n        // },\n    }\n}\n</script>\n<style lang=\"scss\">\n\n</style>"],"sourceRoot":""}