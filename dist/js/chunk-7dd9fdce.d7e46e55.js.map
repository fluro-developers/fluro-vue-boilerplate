{"version":3,"sources":["webpack:///src/router/routes/photos/events/Event.vue","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/mixins/PhotoBrowseMixin.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./src/router/routes/photos/events/Event.vue?6fed","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./src/router/routes/photos/events/Event.vue?1b14","webpack:///./src/router/routes/photos/events/Event.vue?b227","webpack:///./src/router/routes/photos/events/Event.vue","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/components/photos/PhotoThumbnail.vue?7b4a","webpack:///./src/components/photos/PhotoThumbnail.vue?b0df","webpack:///src/components/photos/PhotoThumbnail.vue","webpack:///./src/components/photos/PhotoThumbnail.vue?665d","webpack:///./src/components/photos/PhotoThumbnail.vue","webpack:///./node_modules/core-js/modules/_string-ws.js"],"names":["__webpack_exports__","_props$mixins$compone","props","source","String","Object","mixins","_mixins_BreadcrumbMixin__WEBPACK_IMPORTED_MODULE_10__","_mixins_PhotoBrowseMixin__WEBPACK_IMPORTED_MODULE_9__","components","FluroInfiniteScroll","fluro_vue_ui__WEBPACK_IMPORTED_MODULE_8__","FluroPagedContent","PhotoThumbnail","_components_photos_PhotoThumbnail_vue__WEBPACK_IMPORTED_MODULE_7__","data","loading","search","searchFocussed","debouncedSearch","this","computed","routeKey","$route","name","split","methods","view","photo","photoID","$fluro","utils","getStringID","$router","push","query","chunked","array","_","chunk","created","watch","debounce","newValue","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","event","meta","item","photos","sorted","filtered","self","length","searchKeywords","toLowerCase","trim","searchPieces","filter","itemTitle","title","exactMatch","includes","pieces","concat","keywords","match","every","partial","some","word","default","get","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default","a","resolve","reject","api","params","verbose","simple","select","limit","then","res","console","log","err","pIE","__webpack_require__","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","exports","f","O","P","e","call","$export","context","INCLUDES","F","searchString","indexOf","arguments","undefined","MATCH","module","KEY","re","propertyIsEnumerable","isObject","setPrototypeOf","set","that","target","C","S","constructor","prototype","$includes","el","previousPhoto","id","photoArray","beforeIndex","findIndex","_id","index","targetID","replace","nextPhoto","activated","addEventListener","deactivated","removeEventListener","anObject","check","proto","TypeError","test","buggy","Function","Array","__proto__","$keys","hiddenKeys","getOwnPropertyNames","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Event_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Event_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","exec","ALIAS","exp","FORCE","fn","string","TYPE","global","cof","inheritIfRequired","gOPN","dP","$trim","NUMBER","$Number","Base","BROKEN_COF","TRIM","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","slice","i","l","parseInt","value","valueOf","key","keys","j","render","_vm","_h","$createElement","_c","_self","attrs","contain","icon","scopedSlots","_u","_v","_s","staticClass","_f","definition","proxy","access","can","small","color","to","right","library","_e","class","active","directives","rawName","expression","placeholder","domProps","on","focus","$event","blur","input","composing","click","scroll-parent","perPage","startPage","items","staticStyle","padding","_l","portrait","height","width","d-flex","image","staticRenderFns","events_Eventvue_type_script_lang_js_","Eventvue_type_script_lang_js_","component","componentNormalizer","installComponents_default","VBtn","VFlex","isRegExp","NAME","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PhotoThumbnail_vue_vue_type_style_index_0_id_a6740bc2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PhotoThumbnail_vue_vue_type_style_index_0_id_a6740bc2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_obj","classes","style","date","dark","selected","stopPropagation","toggleSelection","selectionIcon","cover","spinner","imageWidth","imageHeight","load","onLoad","error","onError","viewPhotographer","photographer","left","type","download","togglePin","_b","pinIcon","pinning","PhotoThumbnailvue_type_script_lang_js_","Number","defaultColor","PinnableMixin","calculatedWidth","calculatedHeight","aspectRatio","$selection","isSelected","itemID","backgroundColor","lodash_default","$filters","formatDate","uploader","smallUrl","asset","imageUrl","url","selectItem","_type","toggle","downloadUrl","filename","window","open","photos_PhotoThumbnailvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-7dd9fdce.d7e46e55.js","sourcesContent":["<template>\n    <flex-column>\n        <fluro-page-preloader contain v-if=\"loading\" />\n        <template v-else>\n            <flex-column-header>\n                <page-header icon=\"clock\">\n                    <template v-slot:left>\n                        <h3>{{event.title}}\n                            <span class=\"text-muted\">\n                                / {{event.definition | definitionTitle(false, 'event')}} / {{event | readableEventDate}}\n                            </span>\n                        </h3>\n                    </template>\n                    <template v-slot:right>\n                        <v-btn small color=\"primary\" :to=\"{name:'photos.upload.event', params:{id:event._id}}\" v-if=\"$fluro.access.can('create', 'photo', 'image')\">\n                            Upload more photos\n                            <fluro-icon right library=\"fas\" icon=\"cloud-upload\" />\n                        </v-btn>\n                        <div class=\"search\" :class=\"{active:searchFocussed || search.length}\">\n                            <input v-model=\"search\" @focus=\"searchFocussed = true\" @blur=\"searchFocussed = false\" placeholder=\"Filter keywords\" />\n                            <div class=\"search-icon\" @click=\"search = ''\">\n                                <fluro-icon icon=\"times\" v-if=\"search.length\" />\n                                <fluro-icon icon=\"search\" v-else />\n                            </div>\n                        </div>\n                    </template>\n                    <template v-slot:rightmobile>\n                    </template>\n                </page-header>\n            </flex-column-header>\n            <template v-if=\"!sorted.length\">\n                <empty-text icon=\"event\">\n                    <template v-if=\"photos.length\">\n                        <h3>No photos</h3>\n                        <p>No photos match your criteria</p>\n                    </template>\n                    <template v-else>\n                        <h3>No photos</h3>\n                        <p>No photos have been uploaded for this event yet.</p>\n                        <v-btn color=\"primary\" :to=\"{name:'photos.upload.event', params:{id:event._id}}\" v-if=\"$fluro.access.can('create', 'photo', 'image')\">\n                            Upload Photos Now\n                            <fluro-icon right library=\"fas\" icon=\"cloud-upload\" />\n                        </v-btn>\n                    </template>\n                </empty-text>\n            </template>\n            <template v-else>\n                <flex-column-body scroll-parent>\n                    <fluro-infinite-scroll :perPage=\"24\" :startPage=\"1\" :items=\"sorted\">\n                        <template slot-scope=\"props\">\n                            <!-- <div class=\"grid-layout-outer\" v-for=\"row in chunked(props.page)\">\n                                <div class=\"grid-layout\">\n                                    <div class=\"grid-item\" @click=\"view(item)\" :class=\"{'portrait':item.height > item.width, 'landscape':item.width >= item.height}\" v-for=\"item in row\">\n                                        <photo-thumbnail :image=\"item\" defaultColor=\"#222\" />\n                                    </div>\n                                </div>\n                            </div> -->\n                            <!-- <v-container pa-1 fluid grid-list-sm>\n                                <v-layout row wrap>\n                                    <v-flex d-flex @click=\"view(item)\" xs12 sm4 md3 lg2 v-for=\"item in props.page\">\n                                        <photo-thumbnail :image=\"item\" />\n                                    </v-flex>\n                                </v-layout>\n                            </v-container> -->\n                            <div style=\"padding:0 1px\">\n                            <masonry>\n                               \n                                <brick  :portrait=\"photo.height > photo.width\" v-for=\"photo in props.page\">\n                                    <v-flex d-flex @click=\"view(photo)\" style=\"padding:2px; height:100%; width:100%;\">\n                                        <photo-thumbnail style=\"width:100%; height:100%;\" :image=\"photo\" />\n                                    </v-flex>\n                                </brick>\n                            \n                            </masonry>\n                            </div>\n\n                            <!-- <v-container pa-1 fluid grid-list-sm>\n                                <v-layout row wrap>\n                                    <v-flex d-flex @click=\"view(item)\" xs12 sm4 md3 lg2 v-for=\"item in props.page\">\n                                        <photo-thumbnail :image=\"item\" />\n                                    </v-flex>\n                                </v-layout>\n                            </v-container> -->\n\n\n\n                        </template>\n                    </fluro-infinite-scroll>\n                </flex-column-body>\n            </template>\n        </template>\n    </flex-column>\n</template>\n<script>\n/////////////////////////////////////////////////////\n\nimport PhotoThumbnail from '@/components/photos/PhotoThumbnail.vue';\nimport { FluroInfiniteScroll, FluroPagedContent } from 'fluro-vue-ui'\n/////////////////////////////////////////////////////\n\nimport PhotoBrowseMixin from '@/mixins/PhotoBrowseMixin'\n\nimport BreadcrumbMixin from '@/mixins/BreadcrumbMixin'\n\nexport default {\n    props: {\n        source: [String, Object],\n    },\n    mixins: [BreadcrumbMixin, PhotoBrowseMixin],\n    components: {\n        FluroInfiniteScroll,\n        FluroPagedContent,\n        PhotoThumbnail,\n    },\n    data() {\n        return {\n            loading: true,\n            search: '',\n            searchFocussed: false,\n            debouncedSearch: this.search,\n        }\n    },\n    computed: {\n        routeKey() {\n            return this.$route.name.split('.')[0];\n        }\n    },\n    methods: {\n        view(photo) {\n            var photoID = this.$fluro.utils.getStringID(photo);\n            this.$router.push({ query: { photo: photoID } });\n        },\n        chunked(array) {\n            return _.chunk(array, 3);\n        }\n    },\n    created() {},\n    watch: {\n        search: _.debounce(function(newValue) {\n            this.debouncedSearch = newValue;\n            // this.refine();\n        }, 500),\n    },\n    computed: {\n        event() {\n            return this.meta.item;\n        },\n        photos() {\n            return this.meta.photos;\n        },\n        sorted() {\n            return this.filtered;\n\n            // var self = this;\n            //  return _.orderBy(self.filtered, function(item) {\n            //     return String(item.title).toLowerCase();\n            // });\n        },\n        filtered() {\n\n\n\n            var self = this;\n            var filtered = self.photos;\n\n            if (!self.debouncedSearch || !self.debouncedSearch.length) {\n                return filtered;\n            }\n\n            ////////////////////////////////////////////////\n\n            //Get the search keywords\n            var searchKeywords = String(self.debouncedSearch).toLowerCase().trim();\n            var searchPieces = searchKeywords.split(' ');\n\n\n\n\n\n\n\n            ////////////////////////////////////////////////\n\n            return _.filter(filtered, function(item) {\n\n                var itemTitle = String(item.title).trim().toLowerCase();\n\n                var exactMatch = _.includes(itemTitle, searchKeywords);\n                if (exactMatch) {\n                    return true;\n                }\n\n                var pieces = itemTitle.split(' ');\n                pieces = pieces.concat(item.keywords);\n\n\n                var match = _.every(searchPieces, function(partial) {\n                    return _.some(pieces, function(word) {\n                        return _.includes(word, partial);\n                    })\n                })\n\n                if (match) {\n                    return true;\n                }\n            });\n\n\n        }\n    },\n    asyncComputed: {\n        meta: {\n            default: {},\n            get() {\n\n                var self = this;\n\n                var source = self.$fluro.utils.getStringID(self.source);\n\n\n                self.loading = true;\n\n                return new Promise(function(resolve, reject) {\n\n                    self.$fluro.api.get(`/photos/event/${source}`, {\n                        params: {\n                            // populate:[\n                            //     'data.event',\n                            //     'data.photographer',\n                            // ],\n                            verbose: true,\n                            simple: 'false',\n                            select: [\n                                'title',\n                                'managedAuthor',\n                                'created',\n                                'data.photographer',\n                                'data.event',\n                                'width',\n                                'colors',\n                                'height',\n                            ],\n                            limit: 10000,\n                        }\n                    }).then(function(res) {\n                        console.log('RESOLVES', res)\n                        resolve(res.data);\n                        self.loading = false;\n                    }, function(err) {\n                        reject(err);\n                        self.loading = false;\n                    })\n                });\n            }\n        }\n\n    },\n}\n</script>\n<style lang=\"scss\">\n\n\n.photo-tag {\n    background: rgba(#000, 0.1);\n    border-radius: 100px;\n    display: block;\n    padding: 10px;\n\n    .fluro-image {\n        width: 25px;\n        float: left;\n        border-radius: 100px;\n    }\n}\n\n\n/**\n\n.grid-layout {\n    display: table;\n\n    // display: flex;\n\n    // .grid-item {\n    //     padding:1px;\n    //     flex:1;\n    //     // display: flex;\n    //     // height: 100px;\n\n    //     .photo-thumbnail {\n    //         width:100%;\n    //         height: 100%;\n    //     }\n\n    //     &.portrait {\n    //         flex:none;\n    //         width:25%;\n    //     }\n\n    //     &.landscape {\n            \n    //     }\n    // }\n}\n\n/**\n.grid-layout-outer {\n    padding: 1px;\n}\n\n.grid-layout {\n    display: grid;\n    grid-gap: 0; //2px;\n    grid-template-columns: repeat(2, 1fr);\n}\n\n.grid-item {\n    padding: 1px;\n\n\n    &:last-child {\n        grid-column-end: span 1;\n        grid-row-end: span 1;\n    }\n\n    .photo-thumbnail {\n        height: 100%;\n        width: 100%;\n    }\n}\n\n\n.landscape {\n    grid-column-end: span 1;\n    grid-row-end: span 1;\n}\n\n.portrait {\n    grid-column-end: span 1;\n    grid-row-end: span 2;\n}\n\n/**/\n</style>","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","exports.f = {}.propertyIsEnumerable;\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","export default {\n    methods: {\n        view(photo) {\n            var photoID = this.$fluro.utils.getStringID(photo);\n            this.$router.push({ query: { photo: photoID } });\n        },\n        previousPhoto(id) {\n            var self = this;\n\n            var photoArray = self.sorted || [];\n            var beforeIndex = _.findIndex(photoArray, { _id: id });\n            var index = beforeIndex;\n            \n             index = index -1;\n            \n            if(index < 0) {\n                index = photoArray.length-1;\n            }\n\n            var target = photoArray[index];\n            console.log('PREVIOUS', id, beforeIndex, index, target, photoArray)\n            if (target) {\n                var targetID = self.$fluro.utils.getStringID(target);\n                self.$router.replace({\n                    query: {\n                        photo: targetID,\n                    }\n                })\n            }\n        },\n        nextPhoto(id) {\n\n            var self = this;\n\n             var photoArray = self.sorted || [];\n            var beforeIndex = _.findIndex(photoArray, { _id: id });\n            var index = beforeIndex;\n\n\n\n           \n\n            //Increase\n            index = index +1;\n            \n            if(index > photoArray.length-1) {\n                index = 0;\n            }\n\n             console.log('NEXT', id, beforeIndex, index, photoArray)\n\n            var target = photoArray[index];\n            if (target) {\n                var targetID = self.$fluro.utils.getStringID(target);\n                self.$router.replace({\n                    query: {\n                        photo: targetID,\n                    }\n                })\n            }\n        },\n    },\n    activated() {\n        console.log('PHOTO ACTIVATED')\n        var self = this;\n        self.$fluro.addEventListener('previousPhoto', self.previousPhoto)\n        self.$fluro.addEventListener('nextPhoto', self.nextPhoto)\n    },\n    deactivated() {\n        console.log('PHOTO DEACTIVATED')\n        var self = this;\n        self.$fluro.removeEventListener('previousPhoto', self.previousPhoto)\n        self.$fluro.removeEventListener('nextPhoto', self.nextPhoto)\n    },\n}","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=style&index=0&lang=scss&\"","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-column',[(_vm.loading)?_c('fluro-page-preloader',{attrs:{\"contain\":\"\"}}):[_c('flex-column-header',[_c('page-header',{attrs:{\"icon\":\"clock\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('h3',[_vm._v(_vm._s(_vm.event.title)+\"\\n                        \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n                            / \"+_vm._s(_vm._f(\"definitionTitle\")(_vm.event.definition,false, 'event'))+\" / \"+_vm._s(_vm._f(\"readableEventDate\")(_vm.event))+\"\\n                        \")])])]},proxy:true},{key:\"right\",fn:function(){return [(_vm.$fluro.access.can('create', 'photo', 'image'))?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"to\":{name:'photos.upload.event', params:{id:_vm.event._id}}}},[_vm._v(\"\\n                        Upload more photos\\n                        \"),_c('fluro-icon',{attrs:{\"right\":\"\",\"library\":\"fas\",\"icon\":\"cloud-upload\"}})],1):_vm._e(),_c('div',{staticClass:\"search\",class:{active:_vm.searchFocussed || _vm.search.length}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"placeholder\":\"Filter keywords\"},domProps:{\"value\":(_vm.search)},on:{\"focus\":function($event){_vm.searchFocussed = true},\"blur\":function($event){_vm.searchFocussed = false},\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('div',{staticClass:\"search-icon\",on:{\"click\":function($event){_vm.search = ''}}},[(_vm.search.length)?_c('fluro-icon',{attrs:{\"icon\":\"times\"}}):_c('fluro-icon',{attrs:{\"icon\":\"search\"}})],1)])]},proxy:true},{key:\"rightmobile\",fn:function(){return undefined},proxy:true}])})],1),(!_vm.sorted.length)?[_c('empty-text',{attrs:{\"icon\":\"event\"}},[(_vm.photos.length)?[_c('h3',[_vm._v(\"No photos\")]),_c('p',[_vm._v(\"No photos match your criteria\")])]:[_c('h3',[_vm._v(\"No photos\")]),_c('p',[_vm._v(\"No photos have been uploaded for this event yet.\")]),(_vm.$fluro.access.can('create', 'photo', 'image'))?_c('v-btn',{attrs:{\"color\":\"primary\",\"to\":{name:'photos.upload.event', params:{id:_vm.event._id}}}},[_vm._v(\"\\n                        Upload Photos Now\\n                        \"),_c('fluro-icon',{attrs:{\"right\":\"\",\"library\":\"fas\",\"icon\":\"cloud-upload\"}})],1):_vm._e()]],2)]:[_c('flex-column-body',{attrs:{\"scroll-parent\":\"\"}},[_c('fluro-infinite-scroll',{attrs:{\"perPage\":24,\"startPage\":1,\"items\":_vm.sorted},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticStyle:{\"padding\":\"0 1px\"}},[_c('masonry',_vm._l((props.page),function(photo){return _c('brick',{attrs:{\"portrait\":photo.height > photo.width}},[_c('v-flex',{staticStyle:{\"padding\":\"2px\",\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"d-flex\":\"\"},on:{\"click\":function($event){return _vm.view(photo)}}},[_c('photo-thumbnail',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"image\":photo}})],1)],1)}),1)],1)]}}])})],1)]]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Event.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Event.vue?vue&type=template&id=5fff551f&\"\nimport script from \"./Event.vue?vue&type=script&lang=js&\"\nexport * from \"./Event.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Event.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VFlex})\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoThumbnail.vue?vue&type=style&index=0&id=a6740bc2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoThumbnail.vue?vue&type=style&index=0&id=a6740bc2&scoped=true&lang=scss&\"","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"photo-thumbnail\",class:_vm.classes,style:(_vm.style)},[_c('div',{staticClass:\"thumb-top\"},[_c('div',{staticClass:\"thumb-left\"},[_vm._v(\"\\n            \\n                \"+_vm._s(_vm.title)+\"\\n                \"),_c('div',{staticClass:\"small text-muted\"},[_vm._v(_vm._s(_vm.date))])]),_c('div',{staticClass:\"thumb-right\"},[_c('v-btn',{attrs:{\"dark\":\"\",\"icon\":\"\",\"color\":_vm.selected ? 'primary' : ''},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleSelection()}}},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.selectionIcon}})],1)],1)]),_c('fluro-image',{attrs:{\"cover\":\"\",\"spinner\":true,\"imageWidth\":_vm.imageWidth,\"imageHeight\":_vm.imageHeight,\"width\":_vm.width,\"height\":_vm.height,\"item\":_vm.image},on:{\"load\":_vm.onLoad,\"error\":_vm.onError}}),_c('div',{staticClass:\"shader\"}),_c('div',{staticClass:\"thumb-bottom\"},[_c('div',{staticClass:\"thumb-left\"},[(_vm.photographer)?[_c('a',{on:{\"click\":function($event){$event.stopPropagation();return _vm.viewPhotographer()}}},[_c('fluro-avatar',{attrs:{\"id\":_vm.photographer._id,\"left\":\"\",\"type\":_vm.photographer.style}})],1),_vm._v(\"\\n                    \"+_vm._s(_vm.photographer.title)+\"\\n                \")]:_vm._e()],2),_c('div',{staticClass:\"thumb-right\"},[_c('v-btn',{attrs:{\"dark\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'cloud-download']}})],1),(_vm.user)?_c('v-btn',{attrs:{\"dark\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.togglePin()}}},[_c('font-awesome-icon',_vm._b({attrs:{\"icon\":_vm.pinIcon}},'font-awesome-icon',( _obj = {}, _obj[\"spin\"] = _vm.pinning, _obj ),false))],1):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <!-- Aspect {{aspectRatio}} {{calculatedWidth}}x{{calculatedHeight}} -->\n    <div class=\"photo-thumbnail\" :class=\"classes\" :style=\"style\">\n        <div class=\"thumb-top\">\n            <div class=\"thumb-left\">\n                \n                    {{title}}\n                    <div class=\"small text-muted\">{{date}}</div>\n                \n            </div>\n            <div class=\"thumb-right\">\n                <v-btn dark icon :color=\"selected ? 'primary' : ''\" @click.stop=\"toggleSelection()\">\n                    <font-awesome-icon :icon=\"selectionIcon\" />\n                </v-btn>\n            </div>\n        </div>\n        <fluro-image cover :spinner=\"true\" :imageWidth=\"imageWidth\" :imageHeight=\"imageHeight\" :width=\"width\" :height=\"height\" :item=\"image\" @load=\"onLoad\" @error=\"onError\"></fluro-image>\n        <div class=\"shader\"></div>\n        <div class=\"thumb-bottom\">\n            <div class=\"thumb-left\">\n                \n                    <template v-if=\"photographer\" >\n                        <a @click.stop=\"viewPhotographer()\">\n                            <fluro-avatar :id=\"photographer._id\" left :type=\"photographer.style\"></fluro-avatar>\n                        </a>\n                        {{photographer.title}}\n                    </template>\n                \n            </div>\n            <div class=\"thumb-right\">\n                <v-btn dark icon @click.stop=\"download()\">\n                    <font-awesome-icon :icon=\"['fas', 'cloud-download']\" />\n                </v-btn>\n                <v-btn dark icon @click.stop=\"togglePin()\" v-if=\"user\">\n                    <font-awesome-icon :icon=\"pinIcon\" v-bind=\"{[`spin`]: pinning}\" />\n                </v-btn>\n            </div>\n        </div>\n    </div>\n    <!-- </pre> -->\n</template>\n<script>\nimport _ from 'lodash';\nimport PinnableMixin from '@/mixins/PinnableMixin';\n\n\nexport default {\n\n    props: {\n        image: { type: Object },\n        width: { type: Number },\n        height: { type: Number },\n        defaultColor: {\n            type: String,\n            default: '#ebeef0',\n        }\n    },\n    mixins: [PinnableMixin],\n    data() {\n        return {\n            loading: true,\n        }\n    },\n    computed: {\n        selectionIcon() {\n            if (this.selected) {\n                return ['fas', 'check'];\n            } else {\n                return ['far', 'square'];\n            }\n        },\n        calculatedWidth() {\n            var self = this;\n            return self.width ? self.width : 320;\n        },\n        calculatedHeight() {\n            var self = this;\n            if (self.aspectRatio) {\n                return (self.calculatedWidth) * self.aspectRatio\n            } else {\n                return self.height ? self.height : self.calculatedWidth;\n            }\n        },\n        imageWidth() {\n\n            return this.calculatedWidth ? this.calculatedWidth : 320;\n        },\n        imageHeight() {\n\n            return this.calculatedHeight ? this.calculatedHeight : 320;\n        },\n        classes() {\n            var array = [];\n\n            if (this.selected) {\n                array.push('selected');\n            }\n            return array;\n        },\n        selected() {\n            return this.$selection.isSelected(this.image);\n        },\n        itemID() {\n            return this.$fluro.utils.getStringID(this.image);\n        },\n        style() {\n\n\n            // console.log('STYLE', this.image);\n            return {\n\n\n                backgroundColor: _.get(this.image, 'colors[0]') || this.defaultColor\n            }\n        },\n        title() {\n            return _.get(this.image, 'data.event.title') || _.get(this, 'image.title');\n        },\n        date() {\n            var date = _.get(this, 'image.created');\n            if (!date) {\n                return;\n            }\n            return this.$filters.formatDate(date, 'D MMM YYYY');\n        },\n        photographer() {\n            var image = this.image;\n\n            var photographer = _.get(image, 'data.photographer');\n            var uploader = _.get(image, 'managedAuthor');\n\n            if (photographer && photographer.title) {\n                return {\n                    _id: photographer._id,\n                    style: 'contact',\n                    title: photographer.title\n                };\n            }\n\n            if (uploader && uploader.title) {\n                return {\n                    _id: uploader._id,\n                    style: 'persona',\n                    title: uploader.title\n                };\n            }\n        },\n        smallUrl() {\n            return this.$fluro.asset.imageUrl(this.image, 50);\n        },\n        url() {\n            return this.$fluro.asset.imageUrl(this.image, 320);\n        },\n        aspectRatio() {\n            var image = this.image;\n            if (!image) {\n                return;\n            }\n            return image.height / image.width;\n        },\n    },\n    methods: {\n        toggleSelection() {\n\n            var selectItem = {\n                title: this.image.title,\n                _id: this.image._id,\n                definition: 'photo',\n                _type: 'image',\n            }\n            this.$selection.toggle(selectItem)\n        },\n        viewPhotographer() {\n            var id = this.photographer._id;\n            if (this.photographer.style == 'contact') {\n                this.$router.push({\n                    name: 'photographer',\n                    params: {\n                        id: id,\n                    }\n                })\n            }\n        },\n        download() {\n            if (!this.image) {\n                return;\n            }\n            var url = this.$fluro.asset.downloadUrl(this.image, { filename: this.image.filename });\n            window.open(url);\n\n        },\n        onLoad() {\n            this.loading = false;\n        },\n        onError() {\n            this.loading = false;\n        },\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n.photo-thumbnail {\n\n    position: relative;\n    color: #fff;\n    background: #ebeef0;\n    overflow: hidden;\n    display: flex;\n    font-size: 0.9em;\n    font-weight: 600;\n\n\n\n    .thumb-top,\n    .thumb-bottom {\n        position: absolute;\n        left: 0;\n        right: 0;\n        width: 100%;\n        z-index: 1;\n        opacity: 0;\n        transition: 0.1s;\n        padding: 6px;\n        white-space: nowrap;\n        display: flex;\n\n        div {\n            overflow: hidden;\n            //     // text-overflow: ellipsis;\n        }\n\n\n    }\n\n    .thumb-bottom {\n        display: flex;\n\n        .thumb-left {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n    }\n\n    .shader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(#000, 0);\n        // transition: background 0.3s;\n    }\n\n\n\n    .thumb-top {\n        top: 0;\n    }\n\n    .thumb-bottom {\n        bottom: 0;\n    }\n\n    .thumb-left {\n        flex: 1;\n        left: 0;\n        min-height: 1px;\n    }\n\n    .thumb-right {\n        // max-width: 96px;\n        flex: none;\n        text-align: right;\n    }\n\n    .v-btn {\n        margin: 0;\n    }\n\n    .avatar {\n        margin: 3px;\n        width: 30px;\n\n    }\n\n\n\n    &:hover {\n        &>.shader {\n            background: rgba(#000, 0.5);\n        }\n\n        &>.thumb-top,\n        &>.thumb-bottom {\n            opacity: 1;\n        }\n    }\n\n\n    &.selected {\n\n        // border:10px solid $primary;\n        &>.shader {\n            background: rgba($primary, 0.5);\n        }\n\n        &>.thumb-top {\n            opacity: 1;\n        }\n\n    }\n\n    @media(max-width: 768px) {\n        &>.shader {\n            opacity: 0;\n            background: linear-gradient(rgba(#111, 0.9), rgba(#000, 0.1));\n        }\n\n        // display: block;\n\n        .thumb-left {\n            display: none;\n        }\n\n        .thumb-right {\n            flex:1;\n        }\n\n        &>.thumb-top,\n        &>.thumb-bottom {\n            opacity: 1;\n            // position: relative;\n        }\n    }\n\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoThumbnail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoThumbnail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotoThumbnail.vue?vue&type=template&id=a6740bc2&scoped=true&\"\nimport script from \"./PhotoThumbnail.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoThumbnail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhotoThumbnail.vue?vue&type=style&index=0&id=a6740bc2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6740bc2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\ninstallComponents(component, {VBtn})\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}