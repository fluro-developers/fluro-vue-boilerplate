(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70f6cf62"],{"25d1":function(e,t,n){"use strict";(function(e){var r=n("795b"),o=n.n(r),a=n("f499"),i=n.n(a),s=n("5176"),u=n.n(s),c=(n("a481"),n("c5f6"),n("f217")),l=n("baef"),f=n("6cd4"),d=n("a00b"),h=n("1688"),p=n("22de"),g=n("f811"),y=n("d4f3"),m=n("a026"),v=m["default"].extend({props:{row:{type:Object},column:{type:Object},data:{}},template:'<span class="inline-tag" :content="data | timeago" v-tippy>{{data | formatDate(\'MMM D, YYYY\')}}</span>'}),b=m["default"].extend({props:{row:{type:Object},column:{type:Object},data:{}},template:'\n    <div>\n     <fluro-status-label right v-if="row.status != \'active\'" :value="row.status"/>\n        <strong>{{row.title}}</strong><br/>\n       \n    </div>'}),w=[{title:"List",value:"default",icon:"bars"},{title:"Map",value:"map",icon:"map-marked"},{title:"Duplicates",value:"duplicates",icon:"users-class"},{title:"Checkins",value:"checkins",icon:"sign-in"}],C={};t["a"]={props:{startPage:{type:Number,default:1}},components:{FluroDataTable:p["a"],FilterConditionGroup:g["default"]},mixins:[l["a"],c["a"],d["a"],f["a"],h["i"]],created:function(){},destroyed:function(){},data:function(){var e=C;return this.$route.query.filter&&this.$route.query.filter.length&&(e=JSON.parse(this.$route.query.filter)),{rows:[],showFilters:!1,loading:!0,filterConfig:e,viewModes:w,viewMode:w[0],selection:this.$selection,search:"",searchFocussed:!1,columns:[{title:"Title",key:"title",renderer:b},{type:"date",title:"Updated",shrink:!0,key:"updated",renderer:v,sortType:"date"},{type:"date",title:"Created",shrink:!0,key:"created",renderer:v,sortType:"date"},{title:"Status",key:"status"}]}},computed:{columnKeys:function(){return e.map(this.columns,"key")},filterDebounce:function(){return this.$vuetify.breakpoint.smAndDown?1500:700},filterChangeString:function(){return y["a"].getFilterChangeString(this.filterConfig)}},watch:{filterChangeString:function(){console.log("Filters changed",this.filterConfig),this.$router.replace({query:u()({},this.$route.query,{filter:i()(this.filterConfig)})})}},methods:{changeAccount:function(t){var n=this,r=e.get(n,"user.account._id");if(r==t._id)return a();var o=n.$fluro.auth.changeAccount(t);function a(){console.log("Switched into",t.title),n.$router.push({name:"home"})}o.then(a,function(e){console.log("ERROR",e);n.$fluro.utils.errorMessage(e)})},rowClicked:function(e,t){var n=this;n.changeAccount(e)},rowsChanged:function(e){this.rows=e},pageChanged:function(e){this.$router.push({query:u()({},this.$route.query,{page:e})})},sortChanged:function(e){this.$router.replace({query:u()({},this.$route.query,e)})}},asyncComputed:{items:{default:[],get:function(){var e=this;return e.loading=!0,new o.a(function(t,n){return e.$fluro.api.get("/user/accounts").then(function(n){t(n.data),e.loading=!1},n)})}}}}}).call(this,n("2ef0"))},"7bd7":function(e,t,n){"use strict";var r=n("b9c9"),o=n.n(r);o.a},b9c9:function(e,t,n){},baef:function(e,t,n){"use strict";t["a"]={beforeRouteEnter:function(e,t,n){return console.log("Entering route",e),n()},beforeRouteUpdate:function(e,t,n){return console.log("route update"),n()},beforeRouteLeave:function(e,t,n){return console.log("Leaving route",t),n()}}},f2ea:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page",{attrs:{flex:""}},[n("flex-column",[n("flex-column-header",[n("page-header",{attrs:{type:"account"},scopedSlots:e._u([{key:"left",fn:function(){return[n("h3",[e._v("Change Account")])]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"search",class:{active:e.searchFocussed||e.search.length}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{placeholder:"Search by keyword"},domProps:{value:e.search},on:{focus:function(t){e.searchFocussed=!0},blur:function(t){e.searchFocussed=!1},input:function(t){t.target.composing||(e.search=t.target.value)}}}),n("div",{staticClass:"search-icon",on:{click:function(t){e.search=""}}},[e.search.length?n("fluro-icon",{attrs:{icon:"times"}}):n("fluro-icon",{attrs:{icon:"search"}})],1)])]},proxy:!0}])})],1),n("flex-column",[n("fluro-data-table",{attrs:{enableSelection:!1,allDefinitions:!0,clicked:e.rowClicked,search:e.search,items:e.items,"init-page":e.$route.query.page,"filter-config":e.filterConfig,"init-sort":{sortKey:e.$route.query.sortKey,sortDirection:e.$route.query.sortDirection,sortType:e.$route.query.sortType},columns:e.columns},on:{raw:e.rowsChanged,page:e.pageChanged,sort:e.sortChanged}})],1)],1)],1)},o=[],a=n("25d1"),i=a["a"],s=(n("7bd7"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-70f6cf62.c3b7599c.js.map