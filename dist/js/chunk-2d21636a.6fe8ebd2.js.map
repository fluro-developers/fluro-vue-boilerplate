{"version":3,"sources":["webpack:///./src/router/routes/UserLogin.vue?3a61","webpack:///src/router/routes/UserLogin.vue","webpack:///./src/router/routes/UserLogin.vue?1db8","webpack:///./src/router/routes/UserLogin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","xs","staticClass","_v","on","submit","$event","preventDefault","ref","error-messages","emailErrors","label","required","blur","$v","email","$touch","model","value","callback","$$v","expression","passwordErrors","type","showPassword","append-icon","input","password","click:append","block","large","disabled","$invalid","color","to","name","flat","staticRenderFns","UserLoginvue_type_script_lang_js_","mixins","SEOMixin","UserMixin","src","lib","validations","validators","data","mounted","length","$refs","focus","methods","self","applicationContext","application","authenticationStyle","loginSuccess","res","user","console","log","$toasted","show","concat","firstName","duration","window","history","$router","go","push","loginFail","err","message","$fluro","utils","errorMessage","auth","login","username","bypassInterceptor","then","computed","set","$store","commit","get","getters","errors","$dirty","routes_UserLoginvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","installComponents_default","VBtn","VContainer","VTextField"],"mappings":"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","file":"js/chunk-2d21636a.6fe8ebd2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('wrapper',[_c('constrain',{attrs:{\"xs\":\"\"}},[_c('div',{staticClass:\"login-logo\"},[_c('div',[_c('h2',[_vm._v(\"Sign In\")])])]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('v-text-field',{ref:\"email\",attrs:{\"error-messages\":_vm.emailErrors,\"label\":\"Email Address\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.email.$touch()}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{ref:\"password\",attrs:{\"error-messages\":_vm.passwordErrors,\"label\":\"Password\",\"required\":\"\",\"type\":_vm.showPassword ? 'text' : 'password',\"append-icon\":_vm.showPassword ? 'visibility' : 'visibility_off'},on:{\"input\":function($event){return _vm.$v.password.$touch()},\"blur\":function($event){return _vm.$v.password.$touch()},\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-btn',{attrs:{\"block\":\"\",\"large\":\"\",\"disabled\":_vm.$v.$invalid,\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Sign In\")]),_c('v-btn',{attrs:{\"block\":\"\",\"to\":{name:'user.signup'},\"large\":\"\",\"color\":\"light\"}},[_vm._v(\"Create New Account\")]),_c('v-btn',{attrs:{\"block\":\"\",\"to\":{name:'user.forgot'},\"large\":\"\",\"flat\":\"\"}},[_vm._v(\"Forgot Password?\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n        <wrapper>\n            <constrain xs>\n                <div class=\"login-logo\">\n                    <div>\n                        <h2>Sign In</h2>\n                        <!-- <p class=\"text-muted small\">Please log in to continue</p> -->\n                    </div>\n                </div>\n                <form @submit.prevent=\"submit\">\n                    <v-text-field ref=\"email\" v-model=\"email\" :error-messages=\"emailErrors\" label=\"Email Address\" required @blur=\"$v.email.$touch()\"></v-text-field>\n                    <v-text-field ref=\"password\" v-model=\"password\" :error-messages=\"passwordErrors\" label=\"Password\" required @input=\"$v.password.$touch()\" @blur=\"$v.password.$touch()\" :type=\"showPassword ? 'text' : 'password'\" :append-icon=\"showPassword ? 'visibility' : 'visibility_off'\" @click:append=\"showPassword = !showPassword\"></v-text-field>\n                    <!--  -->\n                    <v-btn block large :disabled=\"$v.$invalid\" color=\"primary\" type=\"submit\">Sign In</v-btn>\n                    <v-btn block :to=\"{name:'user.signup'}\" large color=\"light\">Create New Account</v-btn>\n                    <v-btn block :to=\"{name:'user.forgot'}\" large flat>Forgot Password?</v-btn>\n                </form>\n            </constrain>\n        </wrapper>\n    </v-container>\n</template>\n<script>\nimport _ from 'lodash';\n\nimport SEOMixin from '@/mixins/SEOMixin';\nimport UserMixin from '@/mixins/UserMixin';\nimport { validationMixin } from 'vuelidate';\nimport { required, maxLength, email } from 'vuelidate/lib/validators';\nimport { Layout } from 'fluro-vue';\n\n\n\nexport default {\n    mixins: [SEOMixin, UserMixin, Layout, validationMixin],\n    validations: {\n        email: { required, email },\n        password: { required },\n    },\n    data() {\n        return {\n            password: '',\n            showPassword: false,\n        }\n    },\n    mounted() {\n\n        //If they haven't typed an email in\n        if (!this.email || !this.email.length) {\n            this.$refs.email.focus()\n        } else {\n            this.$refs.password.focus()\n        }\n    },\n    methods: {\n        submit() {\n            var instance = this;\n            var self = this;\n\n            //Check if there is an application\n            var applicationContext = (this.application && this.application.authenticationStyle == 'application');\n\n\n            this.$fluro.auth.login({\n                    username: self.email,\n                    password: self.password,\n                }, {\n                    bypassInterceptor: true,\n                    application: applicationContext, //Sign in to the application rather than Fluro\n                })\n                .then(loginSuccess, loginFail);\n\n            //////////////////////////////////\n\n            function loginSuccess(res) {\n\n                var user = res.data;\n                console.log('Login success', user);\n                // instance.$store.commit('user', res.data);\n\n                self.$toasted.show(`Welcome back ${user.firstName}!`, {\n                    // icon:'check'\n                    duration: 3500,\n                    type: 'success',\n                })\n\n\n                if (window.history.length) {\n                    self.$router.go(-1)\n                } else {\n                    //Go to the home page\n                    self.$router.push({ name: 'home' });\n                }\n            }\n\n            //////////////////////////////////\n\n            function loginFail(err) {\n\n\n                var message = self.$fluro.utils.errorMessage(err);\n\n                console.log('ERROR!', message, err);\n\n                self.$toasted.show(message, {\n                    // icon:'check'\n                    duration: 3500,\n                    type: 'error',\n                })\n\n\n\n                // instance.$store.dispatch('logout');\n            }\n\n\n        },\n    },\n    computed: {\n        email: {\n            set(email) {\n                this.$store.commit('email', email);\n            },\n            get(email) {\n                return this.$store.getters.email;\n            }\n        },\n        emailErrors() {\n            const errors = []\n\n            if (!this.$v.email.$dirty) {\n                return errors;\n            }\n\n            if (!this.$v.email.email) {\n                errors.push('Must be valid email address')\n            }\n\n            if (!this.$v.email.required) {\n                errors.push('Email is required')\n            }\n\n            return errors;\n        },\n        passwordErrors() {\n\n            const errors = []\n\n            if (!this.$v.password.$dirty) {\n                return errors;\n            }\n\n            if (!this.$v.password.required) {\n                errors.push('Please type your password')\n            }\n            return errors;\n\n        },\n    },\n}\n</script>\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserLogin.vue?vue&type=template&id=379692e4&\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"UserLogin.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/boilerplate/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VContainer,VTextField})\n"],"sourceRoot":""}