{"version":3,"sources":["webpack:///src/router/routes/photos/keywords/PhotosKeywords.vue","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./src/components/photos/PhotoKeywordTeaser.vue?0050","webpack:///src/components/photos/PhotoKeywordTeaser.vue","webpack:///./src/components/photos/PhotoKeywordTeaser.vue?2fab","webpack:///./src/components/photos/PhotoKeywordTeaser.vue","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/mixins/PhotoBrowseMixin.js","webpack:///./src/components/photos/PhotoKeywordTeaser.vue?26c9","webpack:///./src/router/routes/photos/keywords/PhotosKeywords.vue?ba72","webpack:///./src/router/routes/photos/keywords/PhotosKeywords.vue?f87a","webpack:///./src/router/routes/photos/keywords/PhotosKeywords.vue?d10b","webpack:///./src/router/routes/photos/keywords/PhotosKeywords.vue","webpack:///./node_modules/core-js/modules/_string-context.js"],"names":["__webpack_exports__","_mixins$components$da","mixins","_mixins_BreadcrumbMixin__WEBPACK_IMPORTED_MODULE_9__","_mixins_PhotoBrowseMixin__WEBPACK_IMPORTED_MODULE_10__","components","FluroInfiniteScroll","fluro_vue_ui__WEBPACK_IMPORTED_MODULE_8__","FluroPagedContent","PhotoKeywordTeaser","_components_photos_PhotoKeywordTeaser_vue__WEBPACK_IMPORTED_MODULE_7__","data","loading","search","searchFocussed","debouncedSearch","this","computed","routeKey","$route","name","split","methods","view","keyword","console","log","$router","push","params","_id","chunked","items","number","_","chunk","created","watch","debounce","newValue","Object","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","sorted","self","orderBy","filtered","item","String","title","toLowerCase","length","searchKeywords","trim","searchPieces","filter","itemTitle","exactMatch","includes","pieces","concat","keywords","match","every","partial","some","word","default","get","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default","a","resolve","reject","$fluro","api","limit","then","res","err","$export","__webpack_require__","context","INCLUDES","P","F","searchString","indexOf","arguments","undefined","MATCH","module","exports","KEY","re","e","f","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","url","lazy-src","smallUrl","aspect-ratio","scopedSlots","_u","key","fn","fill-height","align-center","justify-center","size","indeterminate","color","_e","proxy","_v","_s","definition","count","staticRenderFns","PhotoKeywordTeaservue_type_script_lang_js_","props","realms","lodash_default","map","join","asset","imageUrl","cover","aspectRatio","image","width","height","onLoad","onError","photos_PhotoKeywordTeaservue_type_script_lang_js_","component","componentNormalizer","installComponents_default","VImg","VLayout","VProgressCircular","$includes","el","photo","photoID","utils","getStringID","query","previousPhoto","id","photoArray","beforeIndex","findIndex","index","target","targetID","replace","nextPhoto","activated","addEventListener","deactivated","removeEventListener","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PhotoKeywordTeaser_vue_vue_type_style_index_0_id_3174abde_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PhotoKeywordTeaser_vue_vue_type_style_index_0_id_3174abde_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PhotosKeywords_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PhotosKeywords_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","type","class","active","directives","rawName","value","expression","placeholder","domProps","on","focus","$event","blur","input","composing","click","icon","contain","per-page","pa-1","fluid","grid-list-sm","row","wrap","_l","d-flex","xs12","sm6","md4","lg3","keywords_PhotosKeywordsvue_type_script_lang_js_","PhotosKeywordsvue_type_script_lang_js_","VContainer","VFlex","isRegExp","defined","that","NAME","TypeError"],"mappings":"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","file":"js/chunk-1eb8e040.fb67564f.js","sourcesContent":["<template>\n    <flex-column>\n        <flex-column-header>\n            <page-header type=\"tag\">\n                <template v-slot:left>\n                    <h3>Photos <span class=\"text-muted\">Keywords</span>\n                        <!-- <v-menu :fixed=\"true\" transition=\"slide-y-transition\" offset-y>\n                            <template v-slot:activator=\"{ on }\">\n                                <span class=\"text-muted\" v-on=\"on\">\n                                    {{$parent.$parent.viewMode.title}}\n                                    <fluro-icon style=\"font-size:0.7em;\" icon=\"angle-down\" />\n                                </span>\n                            </template>\n\n                            <v-list dense>\n                                <v-list-tile @click=\"$parent.$parent.selectViewMode(option)\" v-for=\"option in $parent.$parent.viewModes\">\n                                    <v-list-tile-content>\n                                        {{option.title}}\n                                    </v-list-tile-content>\n                                    <fluro-icon :icon=\"option.icon\" right />\n                                </v-list-tile>\n                            </v-list>\n                        </v-menu> -->\n                    </h3>\n                </template>\n                <template v-slot:right>\n                    <!-- v-if=\"!showFilters && $vuetify.breakpoint.smAndUp\"  -->\n                    <div class=\"search\" :class=\"{active:searchFocussed || search.length}\">\n                        <input v-model=\"search\" @focus=\"searchFocussed = true\" @blur=\"searchFocussed = false\" placeholder=\"Filter keywords\" />\n                        <div class=\"search-icon\" @click=\"search = ''\">\n                            <fluro-icon icon=\"times\" v-if=\"search.length\" />\n                            <fluro-icon icon=\"search\" v-else />\n                        </div>\n                    </div>\n                    <!-- <v-btn class=\"pa-2 mx-2\" color=\"primary\" small>\n                        <span>New</span>\n                        <fluro-icon right icon=\"plus\" />\n                    </v-btn>\n                    <v-btn class=\"pa-2 mx-2\" @click=\"showFilters = !showFilters\" content=\"Show/Hide filters\" v-tippy small>\n                        <span>Filters</span>\n                        <fluro-icon right v-if=\"!showFilters\" icon=\"filter\" />\n                        <fluro-icon right v-else icon=\"times\" />\n                    </v-btn> -->\n                </template>\n                <!-- <template v-slot:rightmobile>\n                    <v-btn class=\"ma-0 mr-1\" small color=\"primary\">\n                        <span>New</span>\n                        <fluro-icon right icon=\"plus\" />\n                    </v-btn>\n                    <v-btn icon class=\"ma-0\" @click=\"showFilters = !showFilters\">\n                        <fluro-icon icon=\"filter\" :library=\"showFilters ? 'fas': 'far'\" />\n                    </v-btn>\n                </template> -->\n            </page-header>\n        </flex-column-header>\n        <fluro-page-preloader contain v-if=\"loading\" />\n        <template v-else>\n            <!-- <flex-column> -->\n            <!-- <flex-column-body scroll-parent> -->\n            <!-- @change=\"pageChanged\"  -->\n            <!-- :startPage=\"currentPage\" -->\n\n            <fluro-paged-content :items=\"sorted\" :per-page=\"12\">\n                <!-- <fluro-infinite-scroll :perPage=\"12\" :startPage=\"1\" :items=\"events\"> -->\n                <template slot-scope=\"props\">\n                    <v-container pa-1 fluid grid-list-sm>\n                        <v-layout row wrap>\n                            <v-flex d-flex @click=\"view(keyword)\" xs12 sm6 md4 lg3 v-for=\"keyword in props.page\">\n                                <photo-keyword-teaser :item=\"keyword\" />\n                            </v-flex>\n                        </v-layout>\n                    </v-container>\n                </template>\n                <!-- </fluro-infinite-scroll> -->\n            </fluro-paged-content>\n            <!-- </flex-column-body> -->\n            <!-- </flex-column> -->\n        </template>\n    </flex-column>\n</template>\n<script>\n/////////////////////////////////////////////////////\n\nimport PhotoKeywordTeaser from '@/components/photos/PhotoKeywordTeaser.vue';\nimport { FluroInfiniteScroll, FluroPagedContent } from 'fluro-vue-ui'\n/////////////////////////////////////////////////////\n\nimport BreadcrumbMixin from '@/mixins/BreadcrumbMixin'\nimport PhotoBrowseMixin from '@/mixins/PhotoBrowseMixin'\n\n\nexport default {\n    mixins: [BreadcrumbMixin, PhotoBrowseMixin],\n    components: {\n        FluroInfiniteScroll,\n        FluroPagedContent,\n        PhotoKeywordTeaser,\n    },\n    data() {\n        return {\n            loading: true,\n            search: '',\n            searchFocussed: false,\n            debouncedSearch: this.search,\n        }\n    },\n    computed: {\n        routeKey() {\n            return this.$route.name.split('.')[0];\n        }\n    },\n    methods: {\n        view(keyword) {\n\n            \n\n            console.log('Navigate to', keyword)\n            this.$router.push({\n                name:'photos.keyword',\n                params:{\n                    keyword:keyword._id,\n                }\n            })\n        },\n        chunked(items, number) {\n            return _.chunk(items, number);\n        }\n    },\n    created() {},\n    watch: {\n        search: _.debounce(function(newValue) {\n            this.debouncedSearch = newValue;\n            // this.refine();\n        }, 500),\n    },\n    computed:{\n        sorted() {\n            var self = this;\n             return _.orderBy(self.filtered, function(item) {\n                return String(item.title).toLowerCase();\n            });\n        },\n        filtered() {\n\n           \n\n            var self = this;\n            var filtered = self.items;\n\n            if(!self.debouncedSearch || !self.debouncedSearch.length) {\n                return filtered;\n            }\n\n            ////////////////////////////////////////////////\n\n            //Get the search keywords\n            var searchKeywords = String(self.debouncedSearch).toLowerCase().trim();\n            var searchPieces = searchKeywords.split(' ');\n\n\n\n            \n\n            \n\n            ////////////////////////////////////////////////\n\n            return _.filter(filtered, function(item) {\n\n                var itemTitle = String(item.title).trim().toLowerCase();\n\n                var exactMatch = _.includes(itemTitle, searchKeywords);\n                if (exactMatch) {\n                    return true;\n                }\n\n                var pieces = itemTitle.split(' ');\n                pieces = pieces.concat(item.keywords);\n\n\n                var match = _.every(searchPieces, function(partial) {\n                    return _.some(pieces, function(word) {\n                        return _.includes(word, partial);\n                    })\n                })\n\n                if(match) {\n                    return true;\n                }\n            });\n\n            \n        }\n    },\n    asyncComputed: {\n        items: {\n            default: [],\n            get() {\n                var self = this;\n                self.loading = true;\n                return new Promise(function(resolve, reject) {\n\n                    self.$fluro.api.get('/photos/keyword/list', {\n                        params: {\n                            limit: 100000,\n                        }\n                    }).then(function(res) {\n\n\n                        resolve(res.data);\n                         self.loading = false;\n                    }, function(err) {\n                        reject(err)\n                         self.loading = false;\n                    });\n                })\n            }\n        },\n\n    },\n}\n</script>\n<style lang=\"scss\">\n.photo-tag {\n    background: rgba(#000, 0.1);\n    border-radius: 100px;\n    display: block;\n    padding: 10px;\n\n    .fluro-image {\n        width: 25px;\n        float: left;\n        border-radius: 100px;\n    }\n}\n</style>","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"teaser\"},[_c('v-img',{attrs:{\"src\":_vm.url,\"lazy-src\":_vm.smallUrl,\"aspect-ratio\":\"1.6\"},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-layout',{attrs:{\"fill-height\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[(_vm.loading)?_c('v-progress-circular',{attrs:{\"size\":20,\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}}):_vm._e()],1)]},proxy:true}])}),_c('div',{staticClass:\"text\"},[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.item.title))]),_c('h4',[_vm._v(_vm._s(_vm.item.definition))]),_c('h5',[_vm._v(_vm._s(_vm.item.count)+\" Photos\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n<template>\n\t<div class=\"teaser\">\n\t\t\n\t\t\t<v-img :src=\"url\" :lazy-src=\"smallUrl\" aspect-ratio=\"1.6\"> \n\t\t\t\n\t\t\t\t<template v-slot:placeholder>\n\t\t\t\t\t<v-layout\n\t\t\t\t\tfill-height\n\t\t\t\t\talign-center\n\t\t\t\t\tjustify-center\n\t\t\t\t\t>\n\n\n\t\t\t\t\t<v-progress-circular :size=\"20\" v-if=\"loading\" indeterminate color=\"grey lighten-5\"></v-progress-circular> </v-layout>\n\t\t\t</template>\n\n\t\t\t</v-img>\n\n\n\t\t\t<div class=\"text\">\n\t\t\t\t<div>\n\t\t\t\t\t<h2>{{item.title}}</h2>\n\t\t\t\t\t<h4>{{item.definition}}</h4>\n\t\t\t\t\t<h5>{{item.count}} Photos</h5>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n</template>\n\n<script>\n\nimport _ from 'lodash';\n\n\nexport default {\n\tprops:['item'],\n\tcomputed:{\t\n\t\trealms() {\n\t\t\treturn _.map(this.item.realms, 'title').join(', ');\n\t\t},\n\t\tsmallUrl() {\n\t\t\treturn this.$fluro.asset.imageUrl(this.item.cover, 50);\n        },\n\t\turl() {\n\t\t\treturn this.$fluro.asset.imageUrl(this.item.cover, 320);\n\t\t},\n\t\taspectRatio() {\n\t\t\tvar image = this.item.cover;\n\t\t\treturn image.width / image.height;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading:true,\n\t\t}\n\t},\n\tmethods:{\n\t\t// open() {\n\t\t// \tthis.$router.push({\n  //               name: 'keyword',\n  //               params:{id:this.item._id},\n  //           })\n\t\t// },\n\t\tonLoad() {\n\t\t\tthis.loading = false;\n\t\t},\n\t\tonError() {\n\t\t\tthis.loading = false;\n\t\t},\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n\n.teaser {\n\tposition: relative;\n\tborder-radius: 5px;\n\tbackground: #eee;\n\toverflow: hidden;\n\n\t.text {\n\t\tbackground: rgba(#000, 0.5);\n\t\tposition: absolute;\n\t\tleft:0;\n\t\ttop:0;\n\t\tright:0;\n\t\tbottom:0;\n\t\tdisplay:flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t\ttext-transform: capitalize;\n\n\t\th2 {\n\t\t\tfont-size: 1.3em;\n\t\t}\n\t}\n}\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoKeywordTeaser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoKeywordTeaser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotoKeywordTeaser.vue?vue&type=template&id=3174abde&scoped=true&\"\nimport script from \"./PhotoKeywordTeaser.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoKeywordTeaser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhotoKeywordTeaser.vue?vue&type=style&index=0&id=3174abde&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3174abde\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VProgressCircular } from 'vuetify/lib'\ninstallComponents(component, {VImg,VLayout,VProgressCircular})\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","export default {\n    methods: {\n        view(photo) {\n            var photoID = this.$fluro.utils.getStringID(photo);\n            this.$router.push({ query: { photo: photoID } });\n        },\n        previousPhoto(id) {\n            var self = this;\n\n            var photoArray = self.sorted || [];\n            var beforeIndex = _.findIndex(photoArray, { _id: id });\n            var index = beforeIndex;\n            \n             index = index -1;\n            \n            if(index < 0) {\n                index = photoArray.length-1;\n            }\n\n            var target = photoArray[index];\n            console.log('PREVIOUS', id, beforeIndex, index, target, photoArray)\n            if (target) {\n                var targetID = self.$fluro.utils.getStringID(target);\n                self.$router.replace({\n                    query: {\n                        photo: targetID,\n                    }\n                })\n            }\n        },\n        nextPhoto(id) {\n\n            var self = this;\n\n             var photoArray = self.sorted || [];\n            var beforeIndex = _.findIndex(photoArray, { _id: id });\n            var index = beforeIndex;\n\n\n\n           \n\n            //Increase\n            index = index +1;\n            \n            if(index > photoArray.length-1) {\n                index = 0;\n            }\n\n             console.log('NEXT', id, beforeIndex, index, photoArray)\n\n            var target = photoArray[index];\n            if (target) {\n                var targetID = self.$fluro.utils.getStringID(target);\n                self.$router.replace({\n                    query: {\n                        photo: targetID,\n                    }\n                })\n            }\n        },\n    },\n    activated() {\n        console.log('PHOTO ACTIVATED')\n        var self = this;\n        self.$fluro.addEventListener('previousPhoto', self.previousPhoto)\n        self.$fluro.addEventListener('nextPhoto', self.nextPhoto)\n    },\n    deactivated() {\n        console.log('PHOTO DEACTIVATED')\n        var self = this;\n        self.$fluro.removeEventListener('previousPhoto', self.previousPhoto)\n        self.$fluro.removeEventListener('nextPhoto', self.nextPhoto)\n    },\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoKeywordTeaser.vue?vue&type=style&index=0&id=3174abde&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoKeywordTeaser.vue?vue&type=style&index=0&id=3174abde&scoped=true&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotosKeywords.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotosKeywords.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-column',[_c('flex-column-header',[_c('page-header',{attrs:{\"type\":\"tag\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('h3',[_vm._v(\"Photos \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Keywords\")])])]},proxy:true},{key:\"right\",fn:function(){return [_c('div',{staticClass:\"search\",class:{active:_vm.searchFocussed || _vm.search.length}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"placeholder\":\"Filter keywords\"},domProps:{\"value\":(_vm.search)},on:{\"focus\":function($event){_vm.searchFocussed = true},\"blur\":function($event){_vm.searchFocussed = false},\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_c('div',{staticClass:\"search-icon\",on:{\"click\":function($event){_vm.search = ''}}},[(_vm.search.length)?_c('fluro-icon',{attrs:{\"icon\":\"times\"}}):_c('fluro-icon',{attrs:{\"icon\":\"search\"}})],1)])]},proxy:true}])})],1),(_vm.loading)?_c('fluro-page-preloader',{attrs:{\"contain\":\"\"}}):[_c('fluro-paged-content',{attrs:{\"items\":_vm.sorted,\"per-page\":12},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-container',{attrs:{\"pa-1\":\"\",\"fluid\":\"\",\"grid-list-sm\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((props.page),function(keyword){return _c('v-flex',{attrs:{\"d-flex\":\"\",\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"lg3\":\"\"},on:{\"click\":function($event){return _vm.view(keyword)}}},[_c('photo-keyword-teaser',{attrs:{\"item\":keyword}})],1)}),1)],1)]}}])})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotosKeywords.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotosKeywords.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotosKeywords.vue?vue&type=template&id=0f586fe4&\"\nimport script from \"./PhotosKeywords.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotosKeywords.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhotosKeywords.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {VContainer,VFlex,VLayout})\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n"],"sourceRoot":""}